<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุงูุฏุฑุณ ุงูุฃูู - ููุฏูุฉ ูู ุงูุจุฑูุฌุฉ ุจูุบุฉ JavaScript</title>
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg, #f9f9f9, #e0f7fa);
      color: #222;
      text-align: center;
      padding: 20px;
    }

    h1 {
      color: #00796b;
      font-size: 2em;
    }

    .content {
      max-width: 850px;
      margin: auto;
      background: white;
      padding: 25px;
      border-radius: 15px;
      box-shadow: 0 5px 20px rgba(0,0,0,0.1);
      text-align: right;
    }

    .code-editor {
      width: 100%;
      height: 150px;
      font-family: "Courier New", monospace;
      font-size: 15px;
      direction: ltr;
      text-align: left;
      border: 2px solid #009688;
      border-radius: 10px;
      padding: 10px;
      background-color: #f1f8e9;
      color: #000;
      transition: 0.3s;
    }

    .code-editor:focus {
      background-color: #e0f2f1;
      box-shadow: 0 0 10px #26a69a;
    }

    .btn {
      background: linear-gradient(90deg, #009688, #26a69a);
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      margin-top: 10px;
      transition: all 0.3s ease;
    }

    .btn:hover {
      transform: scale(1.05);
      background: linear-gradient(90deg, #00796b, #004d40);
    }

    .output {
      margin-top: 10px;
      background-color: #e0f7fa;
      border-radius: 8px;
      padding: 10px;
      font-family: "Courier New", monospace;
      color: #004d40;
      direction: ltr;
      text-align: left;
      white-space: pre-wrap;
    }

    .note {
      background-color: #fff3cd;
      color: #856404;
      padding: 10px;
      border-radius: 8px;
      margin: 10px 0;
    }

    .footer {
      margin-top: 30px;
      font-size: 14px;
      color: #555;
    }

    hr {
      border: 1px solid #ccc;
      margin: 30px 0;
    }
  </style>
</head>
<body>

  <h1>๐ป ุงูุฏุฑุณ ุงูุฃูู: ููุฏูุฉ ูู ุงูุจุฑูุฌุฉ ุจูุบุฉ JavaScript</h1>

  <div class="content">
    <p>
      ูุจู ูุง ูุจุฏุฃ ูู ุงูุฃููุงุฏุ ุชุนุงู ูููู ูุนูู ุฅูู ุจุฑูุฌุฉ ุจุจุณุงุทุฉ.  
      ุชุฎูู ุฅูู ุจุชุฏู ุฃูุงูุฑ ูุตุงุญุจู ูุนูู ุญุงุฌุงุช ูุนููุฉ ุฒู: "ูุงุช ูุจุงูุฉ ุงูููุฉ"ุ  
      "ุงูุชุญ ุงูููุฑ"ุ "ุงููู ุงูุจุงุจ"โฆ ุงูุจุฑูุฌุฉ ูู ููุณ ุงูููุฑุฉุ  
      ุจุณ ุจุฏู ูุง ุจุชููู ุตุงุญุจูุ ุจุชููู **ุงูููุจููุชุฑ**!
    </p>

    <div class="note">
      ๐ง ุงูููุจููุชุฑ ูุด ุจูููู ุบูุฑ ูุบุฉ ุงูุฃูุงูุฑุ ูุฅุญูุง ุงููู ุจูุนููู ุฅุฒุงู ูุชุตุฑู ุฎุทูุฉ ุจุฎุทูุฉ.
    </div>

    <h3>๐น ุฃูููุง: ุงูุทุจุงุนุฉ ูู ุงููููุณูู</h3>
    <p>
      ุงููููุณูู ุฏู ุฒู ุงูููุงู ุงููู ุงูููุจููุชุฑ ุจููููู ููู ูุจูุทุจุนูู ุงููุชุงูุฌ.  
      ูุนูู ูู ูููุชูู "ุงุทุจุนูู ูููุฉ ูุฑุญุจูุง"ุ ูุชุธูุฑูู ููุงู.
    </p>

    <pre class="code-editor" readonly>
console.log("ูุฑุญุจูุง ุจูู ูู ุนุงูู ุงูุจุฑูุฌุฉ!");
    </pre>

    <p>ุฌุฑุจ ุจููุณู ๐</p>
    <textarea id="userCode1" class="code-editor" placeholder='ุงูุชุจ ููุง ุฒู console.log("ุฃูุง ุจุฏุฃุช ุฃุชุนูู!");'></textarea><br>
    <button class="btn" onclick="runCode('userCode1', 'output1')">ุนุฑุถ ุงููุชูุฌุฉ</button>
    <div id="output1" class="output"></div>

    <hr>

    <h3>๐น ุซุงูููุง: ุงูุชุนูููุงุช ูู ุงูููุฏ</h3>
    <p>
      ุฃููุงุช ุจุชุญุชุงุฌ ุชูุชุจ ููุงุญุธุงุช ูู ุงูููุฏ ุนูุดุงู ุชูุชูุฑูุง ุจุนุฏูู.  
      ุงูุชุนูููุงุช ุฏู ุงูููุจููุชุฑ ุจูุชุฌุงูููุง ุชูุงููุงุ ุจุณ ุจุชููุฏู ุงูุช!  
      ุฒู ููุง ุชูุชุจ ุนูู ูุฑูุฉ "ูุง ุชูุณุงุด ุชุนูู ูุฐุง".
    </p>

    <pre class="code-editor" readonly>
// ุฏู ุชุนููู ูุด ุจูุชููุฐ
console.log("ุฃููุงู!");
    </pre>

    <p>ุฌุฑุจ ุชุนูู ุชุนููู ุจููุณู ๐</p>
    <textarea id="userCode2" class="code-editor" placeholder='ุงูุชุจ ููุฏ ููู ุชุนููู'></textarea><br>
    <button class="btn" onclick="runCode('userCode2', 'output2')">ุนุฑุถ ุงููุชูุฌุฉ</button>
    <div id="output2" class="output"></div>

    <hr>

    <h3>๐น ุซุงูุซูุง: ุฃููุงุน ุงูุจูุงูุงุช</h3>
    <p>
      ุฒู ูุง ูู ุญูุงุชูุง ุนูุฏูุง ุญุงุฌุงุช ูุฎุชููุฉ (ุฃุณูุงุกุ ุฃุฑูุงูุ ุขุฑุงุก)ุ  
      ูู ุงูุจุฑูุฌุฉ ุจุฑุถู ูู ุฃููุงุน ุจูุงูุงุช:  
      <strong>string</strong> ูุนูู ูุตุ <strong>number</strong> ูุนูู ุฑููุ  
      ู<strong>boolean</strong> ูุนูู ุตุญ ุฃู ุบูุท.
    </p>

    <pre class="code-editor" readonly>
let name = "ุฃุญูุฏ";
let age = 20;
let isStudent = true;

console.log(name);
console.log(age);
console.log(isStudent);
    </pre>

    <p>ุฌุฑุจ ุชูุชุจ ุจูุงูุงุชู ๐</p>
    <textarea id="userCode3" class="code-editor" placeholder='ุฌุฑุจ ุชูุชุจ ููุฏ ููู ุงุณูู ูุณูู'></textarea><br>
    <button class="btn" onclick="runCode('userCode3', 'output3')">ุนุฑุถ ุงููุชูุฌุฉ</button>
    <div id="output3" class="output"></div>

    <hr>

    <h3>๐น ุฑุงุจุนูุง: ุงูุนูููุงุช ุงูุญุณุงุจูุฉ</h3>
    <p>
      ุงูููุจููุชุฑ ุจููุฏุฑ ูุญุณุจ ุฒู ุงูุขูุฉ ุงูุญุงุณุจุฉ.  
      ุชูุฏุฑ ุชุฌูุนุ ุชุทุฑุญุ ุชุถุฑุจ ูุชูุณู ุจูู ุณูููุฉ.
    </p>

    <pre class="code-editor" readonly>
let x = 10;
let y = 3;
console.log(x + y); // ุฌูุน
console.log(x - y); // ุทุฑุญ
console.log(x * y); // ุถุฑุจ
console.log(x / y); // ูุณูุฉ
    </pre>

    <p>ุฌุฑุจ ุชุญุณุจ ุญุงุฌุฉ ุจููุณู ๐</p>
    <textarea id="userCode4" class="code-editor" placeholder='ุงูุชุจ ููุฏ ููู ุนูููุงุช ุญุณุงุจูุฉ'></textarea><br>
    <button class="btn" onclick="runCode('userCode4', 'output4')">ุนุฑุถ ุงููุชูุฌุฉ</button>
    <div id="output4" class="output"></div>

    <hr>

    <h3>๐งญ ููุฎุต ุงูุฏุฑุณ</h3>
    <ul>
      <li>ุงูุจุฑูุฌุฉ = ุฃูุงูุฑ ููููุจููุชุฑ.</li>
      <li>console.log() ุจุชุทุจุน ุงูููุงู ุฃู ุงููุชุงูุฌ.</li>
      <li>ุงูุชุนูููุงุช ุจุชุณุงุนุฏู ุชูุชูุฑ ูุชุดุฑุญ ุงูููุฏ.</li>
      <li>ูู ุฃููุงุน ุจูุงูุงุช ูุฎุชููุฉ (ูุตูุต - ุฃุฑูุงู - ููุทููุฉ).</li>
      <li>ุชูุฏุฑ ุชุนูู ุนูููุงุช ุญุณุงุจูุฉ ุฒู ุงูุฌูุน ูุงูุทุฑุญ ูุงูุถุฑุจ.</li>
    </ul>

    <button class="btn" onclick="location.href='quiz1.html'">๐ ุงุฎุชุจุงุฑ ุงูุฏุฑุณ</button>
    <button class="btn" onclick="location.href='index.html'">๐ ุงูุฑุฌูุน ููุตูุญุฉ ุงูุฑุฆูุณูุฉ</button>
  </div>

  <div class="footer">
    ุชู ุงูุชุตููู ุจูุงุณุทุฉ <strong>Ahmed Ezzat</strong> โค๏ธ
  </div>

  <script>
  // ** ุฏุงูุฉ ุฅุฒุงูุฉ ุงูุชุนูููุงุช **
  function removeComments(code) {
    return code
      .replace(/\/\*[\s\S]*?\*\//g, '')
      .replace(/\/\/.*$/gm, '');
  }

  // ** ูุญููู ุฐูู ูุชุญุฏูุฏ ุงูุฃุฎุทุงุก ุจุฏูุฉ **
  function analyzeCodeErrors(code) {
    const lines = code.split('\n');
    const stack = [];
    for (let i = 0; i < lines.length; i++) {
      const line = lines[i].trim();
      if (line === '' || line.startsWith('//')) continue;

      // โ ูุญุต ุงูุฃููุงุณ
      for (let ch of line) {
        if (ch === '(' || ch === '{' || ch === '[') stack.push(ch);
        else if (ch === ')' || ch === '}' || ch === ']') {
          const last = stack.pop();
          if (
            (ch === ')' && last !== '(') ||
            (ch === '}' && last !== '{') ||
            (ch === ']' && last !== '[')
          ) {
            return {
              valid: false,
              line: i + 1,
              message: 'โ ุงูุฃููุงุณ ุบูุฑ ูุชุทุงุจูุฉ ุฃู ูุบููุฉ ุจุดูู ุฎุงุทุฆ.'
            };
          }
        }
      }

      // โ ูุญุต ุงููุงุตูุฉ ุงูููููุทุฉ
      if (
        !line.endsWith(';') &&
        !line.endsWith('{') &&
        !line.endsWith('}') &&
        !line.includes('function') &&
        !line.includes('if') &&
        !line.includes('for')
      ) {
        if (!line.startsWith('//') && line !== '') {
          return {
            valid: false,
            line: i + 1,
            message: 'โ ูุงูุต ูุงุตูุฉ ููููุทุฉ (;) ูู ููุงูุฉ ุงูุณุทุฑ.'
          };
        }
      }

      // โ ูุญุต ุนูุงูุงุช ุงูุงูุชุจุงุณ
      const quotes = (line.match(/["']/g) || []).length;
      if (quotes % 2 !== 0) {
        return {
          valid: false,
          line: i + 1,
          message: 'โ ูู ุนูุงูุฉ ุงูุชุจุงุณ ููููุฏุฉ ูู ุงูุณุทุฑ.'
        };
      }
    }

    if (stack.length > 0) {
      return {
        valid: false,
        line: lines.length,
        message: 'โ ูู ุฃููุงุณ ููุชูุญุฉ ุบูุฑ ูุบููุฉ.'
      };
    }

    return { valid: true };
  }

  // ** ุงูุชุญูู ูู ูุชุทูุจุงุช ุงูุชูุฑูู **
  function validateCode(inputId, code) {
    const id = inputId.slice(-1);
    const cleaned = removeComments(code).trim();

    switch (id) {
      case '1':
        if (!/console\.log\(.+\)/.test(cleaned))
          return { valid: false, message: "โ ูุงุฒู ุชุณุชุฎุฏู console.log() ูู ุงูุทุจุงุนุฉ." };
        break;
      case '2':
        if (!/(\/\/|\/\*)/.test(code))
          return { valid: false, message: "โ ูุงุฒู ุชูุชุจ ุชุนููู ูู ุงูููุฏ ุจุงุณุชุฎุฏุงู // ุฃู /* */." };
        break;
      case '3':
        if (!/(let|const|var)\s+\w+\s*=/.test(cleaned))
          return { valid: false, message: "โ ูุงุฒู ุชุนุฑู ูุชุบูุฑ ุฒู let name = 'ุฃุญูุฏ';" };
        break;
      case '4':
        if (!/(\+|\-|\*|\/)/.test(cleaned))
          return { valid: false, message: "โ ูุงุฒู ุชุนูู ุนูููุฉ ุญุณุงุจูุฉ (+ - * /)." };
        break;
    }
    return { valid: true };
  }

  // ** ุชูููุฐ ุงูููุฏ ูุน ุชุญููู ุงูุณุทุฑ ุงูุฎุทุฃ **
  function runCode(inputId, outputId) {
    const textarea = document.getElementById(inputId);
    const code = textarea.value;
    const output = document.getElementById(outputId);

    output.textContent = '';
    output.style.color = '#004d40';
    textarea.classList.remove('highlight-error');

    // 1๏ธโฃ ุชุญููู ุงูุฃุฎุทุงุก ูุจู ุงูุชูููุฐ
    const analysis = analyzeCodeErrors(code);
    if (!analysis.valid) {
      output.style.color = '#dc3545';
      output.textContent = `${analysis.message}\n๐ ุงูุณุทุฑ ุฑูู: ${analysis.line}`;
      highlightErrorLine(textarea, analysis.line);
      return;
    }

    // 2๏ธโฃ ุงูุชุญูู ูู ูุชุทูุจุงุช ุงูุฏุฑุณ
    const validation = validateCode(inputId, code);
    if (!validation.valid) {
      output.style.color = '#dc3545';
      output.textContent = validation.message;
      return;
    }

    // 3๏ธโฃ ุชูููุฐ ุงูููุฏ
    try {
      let result = '';
      const originalLog = console.log;
      console.log = (...args) => (result += args.join(' ') + '\n');
      eval(code);
      console.log = originalLog;

      output.style.color = '#00796b';
      output.textContent = result.trim()
        ? "โ ุตุญ! ูุงุชุฌ ุงูููุฏ:\n" + result.trim()
        : "โ ุตุญ! ุงูููุฏ ุณููู ูุงุดุชุบู ุจูุฌุงุญ.";
    } catch (err) {
      output.style.color = '#dc3545';
      output.textContent = "โ ุบูุท ูู ุงูุชูููุฐ: " + err.message;
    }
  }

  // ** ุชุธููู ุงูุณุทุฑ ุงูุฎุทุฃ ุจุฏูู ุชุนุฏูู ุงููุต **
  function highlightErrorLine(textarea, lineNumber) {
    const lines = textarea.value.split('\n');
    const before = lines.slice(0, lineNumber - 1).join('\n').length;
    const start = before + (lineNumber > 1 ? 1 : 0);
    const end = start + lines[lineNumber - 1].length;

    textarea.focus();
    textarea.setSelectionRange(start, end);
    textarea.classList.add('highlight-error');
  }
</script>

<style>
  .highlight-error {
    background: rgba(255, 0, 0, 0.08);
    transition: background 0.3s;
  }
</style>


</body>
</html>



