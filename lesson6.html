<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงูุฏุฑุณ ุงูุณุงุฏุณ: ุงูููุฎุต ุงูุดุงูู ูุฃุณุงุณูุงุช JavaScript</title>
    <style>
        /* (CSS ุงูุฃููุงุท ููุง ูู ููุญูุงุธ ุนูู ุงูุชุตููู ุงูุชูุงุนูู ุงูุฌุฐุงุจ) */
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap');
        
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #f9f9f9, #e0f7fa);
            color: #222;
            text-align: center;
            padding: 20px;
        }

        h1 {
            color: #880e4f; 
            font-size: 2.2em;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        h2 {
            color: #4a148c; /* ููู ุจููุณุฌู ุนููู */
            font-size: 1.8em;
            margin-top: 35px;
            border-bottom: 3px solid #ab47bc; 
            padding-bottom: 10px;
            display: inline-block;
        }
        h3 {
            color: #6a1b9a;
            font-size: 1.4em;
            margin-top: 25px;
            text-align: right;
            border-right: 4px solid #ce93d8;
            padding-right: 10px;
        }

        .container {
            max-width: 1000px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); 
            text-align: right;
        }

        .concept-box {
            border: 2px solid #ce93d8;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 25px;
            background-color: #f3e5f5;
            box-shadow: 0 4px 8px rgba(0,0,0,0.05);
        }

        .explanation {
            line-height: 1.8;
            font-weight: 600;
            color: #333;
            text-align: right;
        }
        
        .code-snippet {
            display: block;
            background-color: #e1bee7; 
            color: #4a148c;
            padding: 15px;
            margin: 15px 0;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            direction: ltr;
            text-align: left;
            overflow-x: auto;
            font-weight: 700;
            border: 1px solid #dcdcdc;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            font-size: 0.95em;
        }

        .btn {
            background: linear-gradient(90deg, #6a1b9a, #9c27b0); 
            color: white;
            padding: 12px 25px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            margin: 10px 7px;
            transition: all 0.3s ease;
            font-size: 16px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: translateY(-2px) scale(1.02);
            background: linear-gradient(90deg, #4a148c, #6a1b9a);
        }
        
        /* ุฒุฑ ุงูุงุฎุชุจุงุฑ ุงูููุงุฆู */
        .test-btn {
             background: linear-gradient(90deg, #ff9800, #ff5722);
             box-shadow: 0 4px 15px rgba(255,152,0,0.4);
        }
        .test-btn:hover {
             background: linear-gradient(90deg, #e65100, #ff9800);
        }

        .output {
            margin-top: 15px;
            background: #fdfdfd;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            direction: ltr;
            text-align: left;
            white-space: pre-wrap;
            min-height: 50px;
            color: #333;
            font-weight: 700;
            border: 1px dashed #9c27b0;
            box-shadow: inset 0 0 5px rgba(0,0,0,0.05);
        }
        .output.error {
             background:#fff0f0;
             color:#a00;
             border-color: #a00;
        }

        /* ุฃููุงุท ุงููุดุงุฑูุน ุงูููุงุฆูุฉ */
        .project-section {
            border: 2px solid #880e4f;
            padding: 25px;
            border-radius: 15px;
            background-color: #fff8e1;
            margin-top: 30px;
            margin-bottom: 30px; 
        }
        .project-explanation {
            line-height: 1.8;
            font-weight: 600;
            text-align: right;
            color: #333;
        }
        .editor {
            width:100%;
            min-height:150px;
            font-family:monospace;
            font-size:15px;
            direction:ltr;
            text-align:left;
            border-radius:10px;
            padding:12px;
            border:2px solid #f9e1e3;
            background:#fff;
            resize:vertical;
        }
        .project-output {
            margin-top: 10px;
            background:#fff;
            padding:12px;
            border-radius:8px;
            font-family:monospace;
            direction:ltr;
            text-align:left;
            white-space:pre-wrap;
            min-height:50px;
            color:#004d40;
            font-weight:700;
            border: 1px solid #ccc;
        }
        .new-concept {
            background-color: #e8f5e9; 
            border-color: #43a047;
        }
        .new-concept h3 {
             border-right-color: #a5d6a7;
             color: #2e7d32;
        }
        .congratulations {
            background-color: #ffe0b2;
            border: 2px solid #ff9800;
            padding: 20px;
            margin: 20px auto;
            border-radius: 15px;
            color: #e65100;
            font-size: 1.5em;
            font-weight: 900;
            text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.5);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .footer {
  margin-top: 50px;
  padding: 15px 15px;
  text-align: center;
  font-family: 'Cairo', sans-serif;
  font-size: 18px;
  background: linear-gradient(90deg, #6a1b9a, #9c27b0);
  color: white;
  border-radius: 15px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
  animation: fadeIn 1.5s ease-in-out;
}

.footer strong {
  color: #ffeb3b;
  text-shadow: 1px 1px 4px rgba(0,0,0,0.3);
}

.footer:hover {
  transform: scale(1.03);
  transition: all 0.3s ease;
  box-shadow: 0 6px 25px rgba(0,0,0,0.3);
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}
    </style>
</head>
<body>

    <div class="congratulations">
        ๐ ุชููุฆุฉ! ููุฏ ูุตูุช ุฅูู ููุงูุฉ ุฃุณุงุณูุงุช JavaScript! ๐
        <p style="font-size: 0.8em; margin-top: 10px;">ูุฐุง ุงูุฏุฑุณ ูุฌูุน ูู ูุง ุชุนููุชู ููุฌูุฒู ูููุฑุญูุฉ ุงููุงุฏูุฉ.</p>
    </div>

    <h1>๐ ุงูุฏุฑุณ ุงูุณุงุฏุณ: ุงูููุฎุต ุงูุดุงูู ูุฃุณุงุณูุงุช JavaScript ๐</h1>

    <div class="container">
        
        <h2>โ๏ธ ุงููุณู ุงูุฃูู: ุงููุงุฆูุงุช (Objects) - ุงูุชูุธูู ุงูููููู ููุจูุงูุงุช</h2>
        <p class="explanation">
            **ุชูุตูู ุงูุดุฑุญ:** ุงููุงุฆูุงุช ูู ุญุงููุงุช ุชุฎุฒู ุงูุจูุงูุงุช ุงูููุธูุฉ ูู ููุฆุฉ **ุฃุฒูุงุฌ ูู ุงูููุงุชูุญ ูุงูููู (Key-Value Pairs)**. ูููุฑ ูููุง ููููุฐุฌ ูุตู ููุงูุงู ุญููููุงู (ูุซู ูุชุงุจุ ุณูุงุฑุฉุ ุทุงูุจ).
            **ุงูููุงุชูุญ** (ุงูุฎุตุงุฆุต/Properties) ูุฌุจ ุฃู ุชููู ุณูุงุณู ูุตูุฉ ุฃู ุฑููุฒุ ู**ุงูููู** ูููู ุฃู ุชููู ุฃู ููุน ูู ุงูุจูุงูุงุช (ูุตุ ุฑููุ ูุตูููุฉุ ุฃู ุญุชู ุฏุงูุฉ). ูุฐู ุงููููููุฉ ูู ุฃุณุงุณ ูู ุดูุก ูู JavaScript.
        </p>

        <div class="concept-box">
            <h3>1. ุฅูุดุงุก ูุงุณุชุฎุฏุงู ุงููุงุฆูุงุช (Object Literal)</h3>
            <p class="explanation">
                ูุณุชุฎุฏู ุงูุฃููุงุณ ุงููุนูููุฉ **<code>{}</code>** ูุชุนุฑูู ุงููุงุฆู. ูููุตูู ุฅูู ุงูุจูุงูุงุชุ ูุณุชุฎุฏู ุฅูุง ุงูุชุฑููู ุงูููุทู (Dot Notation) ูุณูููุชูุ ุฃู ุงูุชุฑููู ุงูููุณู (Bracket Notation) ุนูุฏูุง ูููู ุงูููุชุงุญ ูุญุชูู ุนูู ูุณุงูุงุช ุฃู ูุชู ุชุฎุฒููู ูู ูุชุบูุฑ.
            </p>
            <div class="code-snippet">
                const book = {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;title: "ูู ุงูุจุฑูุฌุฉ",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;author: "ุฃุญูุฏ",<br>
                &nbsp;&nbsp;&nbsp;&nbsp;pages: 350,<br>
                &nbsp;&nbsp;&nbsp;&nbsp;"publish year": 2023 // ููุชุงุญ ูุญุชูู ุนูู ูุณุงูุฉ<br>
                };<br>
                <br>
                console.log(book.author); // ุงููุตูู ุจุงูููุทุฉ: ุฃุญูุฏ<br>
                <br>
                const keyName = 'pages';<br>
                console.log(book[keyName]); // ุงููุตูู ุจุงูููุณ: 350 (ุจุงุณุชุฎุฏุงู ูุชุบูุฑ)<br>
                console.log(book['publish year']); // ุงููุตูู ุจุงูููุณ: 2023 (ุจุณุจุจ ุงููุณุงูุฉ)
            </div>
            <button class="btn" onclick="runObjectExample()">โถ ุชุดุบูู ูุซุงู ุงููุงุฆู</button>
            <div id="object_output" class="output"></div>
            
            <h3 style="margin-top: 30px;">2. ุงูุชุนุฏูู ูุงูุฅุถุงูุฉ ูุงูุชูุฑุงุฑ</h3>
            <p class="explanation">
                ูููููุง ุงูุชุนุฏูู ูุงูุฅุถุงูุฉ ุจูุฌุฑุฏ ุชุนููู ูููุฉ ุฌุฏูุฏุฉ ูุฎุงุตูุฉ ููุฌูุฏุฉ ุฃู ุบูุฑ ููุฌูุฏุฉ. ููุชูุฑุงุฑ ุนูู ุฌููุน ุงูุฎูุงุตุ ุชุนุชุจุฑ ุญููุฉ **<code>for...in</code>** ูู ุงูุทุฑููุฉ ุงูููุงุณูููุฉ ููุญุตูู ุนูู **ููุงุชูุญ** ุงููุงุฆู.
            </p>
            <div class="code-snippet">
                const book = { title: "ูู ุงูุจุฑูุฌุฉ", author: "ุฃุญูุฏ" };<br>
                book.pages = 400; // ุฅุถุงูุฉ ุฎุงุตูุฉ ุฌุฏูุฏุฉ ุฃู ุชุนุฏูู<br>
                delete book.author; // ุญุฐู ุฎุงุตูุฉ<br>
                <br>
                let info = 'ุงูุฎูุงุต ุจุนุฏ ุงูุชุนุฏูู: ';<br>
                for (let key in book) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;info += `${key}: ${book[key]} | `;<br>
                }<br>
                console.log(info); // ุงููุชููุน: title: ูู ุงูุจุฑูุฌุฉ | pages: 400 |
            </div>
            <button class="btn" onclick="runObjectLoopExample()">โถ ุชุดุบูู ูุซุงู ุงูุชุนุฏูู ูุงูุชูุฑุงุฑ</button>
            <div id="object_loop_output" class="output"></div>
        </div>
        
        <hr>

        <h2>๐งฑ ุงููุณู ุงูุซุงูู: ูุทุงู ุงููุชุบูุฑุงุช ูุงูุฏูุงู ุงูุฑุงุฌุนุฉ - ุงูุชุญูู ูู ุงูููุฏ</h2>
        
        <div class="concept-box">
            <h3>1. ุงููุทุงู (Scope): ุงููุฑู ุจูู let/const ู var</h3>
            <p class="explanation">
                **ุชูุตูู ุงูุดุฑุญ:** ุชุญุฏูุฏ ูุทุงู ุงููุชุบูุฑุงุช ูู ุฃูุฑ ุญุงุณู ูุชุฌูุจ ุงูุฃุฎุทุงุก.
                <ul>
                    <li>**<code>var</code> (ูุทุงู ุงูุฏุงูุฉ/Function Scope):** ุงููุชุบูุฑุงุช ุงูููุนุฑููุฉ ุจู ุชููู ูุฑุฆูุฉ ูู ุฃู ููุงู ุฏุงุฎู ุงูุฏุงูุฉ ุงูุชู ุนูุฑููุช ูููุงุ ุญุชู ูู ุนูุฑููุช ุฏุงุฎู ูุชูุฉ ุดุฑุทูุฉ `if` ุฃู ุญููุฉ `for`. ูุฐุง ูุณุจุจ ูุดุงูู ุงูุชุฏุงุฎู (Hoisting).</li>
                    <li>**<code>let</code> ู <code>const</code> (ูุทุงู ุงููุชูุฉ/Block Scope):** ุงููุชุบูุฑุงุช ุชููู ูุฑุฆูุฉ ููุท ุฏุงุฎู ุฃูุฑุจ ูุชูุฉ `{}`, ููุง ูุฌุนู ุงูููุฏ ุฃูุซุฑ ุฃูุงูุงูุ ููููุน ุงููุตูู ุงูุนุดูุงุฆู ูููุชุบูุฑุงุช. <strong>ุงุณุชุฎุฏูููุง ุฏุงุฆูุงู!</strong></li>
                </ul>
            </p>
            <div class="code-snippet">
                function testScope() {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;if (true) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var oldVar = "ุฃูุง Var! (ูุทุงูู ุฏุงูุฉ)";<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let newLet = "ุฃูุง Let! (ูุทุงูู ูุชูุฉ)";<br>
                &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                &nbsp;&nbsp;&nbsp;&nbsp;console.log("Var ูู ุงูุฎุงุฑุฌ:", oldVar); // โ ูุนูู<br>
                &nbsp;&nbsp;&nbsp;&nbsp;// ุงููุตูู ูู newLet ูุณุจุจ ุฎุทุฃ "ReferenceError"<br>
                }<br>
                console.log(testScope());
            </div>
            <button class="btn" onclick="runScopeExample()">โถ ุชุดุบูู ูุซุงู ูุทุงู ุงููุชุบูุฑุงุช</button>
            <div id="scope_output" class="output"></div>
            
            <h3 style="margin-top: 30px;">2. ุงูุฏูุงู ุงูุฑุงุฌุนุฉ (Callback Functions)</h3>
            <p class="explanation">
                **ุชูุตูู ุงูุดุฑุญ:** ุงูุฏุงูุฉ ุงูุฑุงุฌุนุฉ ูู ุฏุงูุฉ ูุชู ุชูุฑูุฑูุง ููุนุงูู (Argument) ูุฏุงูุฉ ุฃุฎุฑูุ ูุชุชููุน ุงูุฏุงูุฉ ุงูุฃุฎุฑู ุฃู ุชููู ุจุชูููุฐูุง (ุงุณุชุฏุนุงุฆูุง) ูู ููุช ูุงุญูุ ุนูุฏ ุญุฏูุซ ุญุฏุซ ูุนูู ุฃู ุนูุฏ ุงูุงูุชูุงุก ูู ุนูููุฉ ูุง. ูุฐุง ุงูููููู ูู ุฃุณุงุณ ุงูุจุฑูุฌุฉ ุบูุฑ ุงููุชุฒุงููุฉ (Asynchronous) ูู JavaScript.
            </p>
            <div class="code-snippet">
                // ุงูุฏุงูุฉ ุงูุฑุฆูุณูุฉ ุงูุชู ุชุณุชุฏุนู ุงูู callback<br>
                function processNumbers(arr, callback) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;console.log("ุจุฏุก ุงููุนุงูุฌุฉ...");<br>
                &nbsp;&nbsp;&nbsp;&nbsp;for (let i = 0; i < arr.length; i++) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callback(arr[i]); // ุงูุงุณุชุฏุนุงุก ูุญุฏุซ ููุง<br>
                &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                }<br>
                <br>
                // ุฏุงูุฉ ุงูู Callback<br>
                function logDouble(number) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;console.log(`ุงูุนุฏุฏ ${number} ูุถูุนูู ${number * 2}`);<br>
                }<br>
                <br>
                processNumbers([1, 5, 10], logDouble); // ุชูุฑูุฑ logDouble ูุฏุงูุฉ ุฑุงุฌุนุฉ
            </div>
            <button class="btn" onclick="runCallbackExample()">โถ ุชุดุบูู ูุซุงู ุงูุฏูุงู ุงูุฑุงุฌุนุฉ</button>
            <div id="callback_output" class="output"></div>
        </div>
        
        <hr>

        <h2>๐ ุงููุณู ุงูุซุงูุซ: ุงูุฏูุงู ุงูุณูููุฉ ูุงููุตูููุงุช ุงููุชูุฏูุฉ - ุงูุจุฑูุฌุฉ ุงููุธูููุฉ (Functional)</h2>
        
        <div class="concept-box new-concept">
            <h3>1. ุงูุฏูุงู ุงูุณูููุฉ (Arrow Functions)</h3>
            <p class="explanation">
                **ุชูุตูู ุงูุดุฑุญ:** ุงูุฏูุงู ุงูุณูููุฉ ูู ุฅุถุงูุฉ ุญุฏูุซุฉ (ES6) ุชุณูุญ ุจูุชุงุจุฉ ุฏูุงู ุฃูุตุฑ. ุฅุฐุง ูุงูุช ุงูุฏุงูุฉ ุชุชููู ูู ุณุทุฑ ูุงุญุฏุ ูููู ุญุฐู ุงูุฃููุงุณ ุงููุนูููุฉ `{}` ููููุฉ `return`ุ ููุง ูุฎุชุตุฑ ุงูููุฏ ุจุดูู ูุจูุฑ. ููู ุชูุณุชุฎุฏู ุจุดูู ููุซู ูุฏูุงู ุฑุงุฌุนุฉ.
            </p>
            <div class="code-snippet">
                // ุฏุงูุฉ ุณูููุฉ ูุตูุฑุฉ (Implicit return)<br>
                const add = (a, b) => a + b;<br>
                console.log("ุงูุฌูุน:", add(10, 5)); // ุงููุชููุน: 15<br>
                <br>
                // ุฏุงูุฉ ุณูููุฉ ูุชุนุฏุฏุฉ ุงูุฃุณุทุฑ (Explicit return)<br>
                const isEven = num => {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;if (num % 2 === 0) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return true;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                &nbsp;&nbsp;&nbsp;&nbsp;return false;<br>
                };<br>
                console.log("ูู 8 ุฒูุฌูุ", isEven(8)); // ุงููุชููุน: true
            </div>
            <button class="btn" onclick="runArrowFunctionExample()">โถ ุชุดุบูู ูุซุงู ุงูุฏูุงู ุงูุณูููุฉ</button>
            <div id="arrow_output" class="output"></div>

            <h3 style="margin-top: 30px;">2. ุฏูุงู ุงููุตูููุงุช ุงููุชูุฏูุฉ: mapุ filterุ reduce</h3>
            <p class="explanation">
                **ุชูุตูู ุงูุดุฑุญ:** ูุฐู ุงูุฏูุงู ุชุฌุนู ุงูุชุนุงูู ูุน ุงููุตูููุงุช ุฃุณูู ูุฃูุถุญ ุจูุซูุฑ ูู ุงุณุชุฎุฏุงู ุญููุงุช `for` ุงูุชูููุฏูุฉ. ุฅููุง ุฌููุฑ ุงูุจุฑูุฌุฉ ุงููุธูููุฉ (Functional Programming) ูู JavaScript.
            </p>
            <ul style="text-align: right; margin-right: 20px; color: #2e7d32; font-weight: 600;">
                <li>**`filter(callback)`:** ุชูุฑุฌุน ูุตูููุฉ ุฌุฏูุฏุฉ ุชุญุชูู ููุท ุนูู ุงูุนูุงุตุฑ ุงูุชู ุญููุช ุงูุดุฑุท ุงูููุฌูุฏ ูู ุงูุฏุงูุฉ ุงูุฑุงุฌุนุฉ (ุงูู callback).</li>
                <li>**`map(callback)`:** ุชูุฑุฌุน ูุตูููุฉ ุฌุฏูุฏุฉ ุจููุณ ุงูุทููุ ูููู ูุน ุชุญููู ูู ุนูุตุฑ ุจูุงุกู ุนูู ูุง ุชูุฑุฌุนู ุงูุฏุงูุฉ ุงูุฑุงุฌุนุฉ.</li>
            </ul>
            <div class="code-snippet">
                const numbers = [10, 50, 5, 80];<br>
                <br>
                // filter: ูุฎุชุงุฑ ููุท ุงูุฃุฑูุงู ุงูุฃูุจุฑ ูู 20<br>
                const filtered = numbers.filter(num => num > 20);<br>
                console.log("ุงูุฃูุจุฑ ูู 20:", filtered); // ุงููุชููุน: [50, 80]<br>
                <br>
                // map: ูุญูู ูู ุฑูู ุฅูู ูุถุงุนูู<br>
                const doubled = numbers.map(num => num * 2);<br>
                console.log("ุงููุถุงุนูุงุช:", doubled); // ุงููุชููุน: [20, 100, 10, 160]
            </div>
            <button class="btn" onclick="runArrayFunctionsExample()">โถ ุชุดุบูู ูุซุงู ุฏูุงู ุงููุตูููุงุช</button>
            <div id="array_functions_output" class="output"></div>
        </div>
        
        <hr>

        <h2>๐ก๏ธ ุงููุณู ุงูุฑุงุจุน: ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก (try...catch) - ุงูุตูุงูุฉ ูุงูุงุณุชูุฑุงุฑูุฉ</h2>
        
        <div class="concept-box">
            <h3>1. ุงุณุชุฎุฏุงู try...catch</h3>
            <p class="explanation">
                **ุชูุตูู ุงูุดุฑุญ:** ูุณุชุฎุฏู ูููุน ุงูุจุฑูุงูุฌ ูู ุงูุงูููุงุฑ (Crashing) ุนูุฏ ุญุฏูุซ ุฎุทุฃ ุบูุฑ ูุชููุน. ูุถุน ุงูููุฏ ุงูุฐู ูุญุชูู ุงููุดู ุฏุงุฎู ูุชูุฉ **<code>try</code>**. ุฅุฐุง ูุดู ุงูููุฏุ ูุชู "ุฅููุงุก" ุงูุฎุทุฃุ ูููุชูุทู ุงูุจุฑูุงูุฌ ูู ูุชูุฉ **<code>catch (error)</code>**. ูุฐุง ูุณูุญ ูู ุจูุนุงูุฌุฉ ุงูุฎุทุฃ ูุนุฑุถ ุฑุณุงูุฉ ููุงุณุจุฉ ุฏูู ุฅููุงู ุจุงูู ุงูุจุฑูุงูุฌ.
            </p>
            <div class="code-snippet">
                function safeDivision(a, b) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;try {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (b === 0) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;throw new Error("ูุง ูููู ุงููุณูุฉ ุนูู ุตูุฑ!"); // ุฅููุงุก ุฎุทุฃ<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return a / b;<br>
                &nbsp;&nbsp;&nbsp;&nbsp;} catch (error) {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console.log("ุชู ุงูุชูุงุท ุงูุฎุทุฃ. ุงูุฑุณุงูุฉ:", error.message);<br>
                &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return "ุญุฏุซ ุฎุทุฃ (ุชูุช ูุนุงูุฌุชู).";<br>
                &nbsp;&nbsp;&nbsp;&nbsp;}<br>
                }<br>
                <br>
                console.log("ุงููุชูุฌุฉ ุงูุฃููู:", safeDivision(10, 2));<br>
                console.log("ุงููุชูุฌุฉ ุงูุซุงููุฉ:", safeDivision(10, 0)); 
            </div>
            <button class="btn" onclick="runTryCatchExample()">โถ ุชุดุบูู ูุซุงู ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก</button>
            <div id="try_catch_output" class="output"></div>
        </div>

        <hr style="margin: 40px 0;">

        <h2>โญ ูุดุฑูุน ุงูุชุฎุฑุฌ ุงูููุงุฆู (1): ูุธุงู ุชุณุฌูู ุงูุทูุงุจ ุงูุชูููุฏู</h2>
        <div class="project-section">
            <p class="project-explanation">
                **ุงููููุฉ:** ุฅูุฌุงุฏ ุงูุทูุงุจ ุงููุงุฌุญูู ุจุงุณุชุฎุฏุงู ุญููุฉ `forEach` ุงูุชูููุฏูุฉ.
                <ol style="text-align: right;">
                    <li>ูุตูููุฉ <code>students</code> ุชุญุชูู ุนูู <strong>ูุงุฆูุงุช</strong> (<code>name</code>, <code>id</code>, <code>grade</code>).</li>
                    <li>ุฏุงูุฉ <code>findPassed</code> ุชุณุชุฎุฏู ุญููุฉ **`forEach`** ููุจุญุซ ุนู ุงูุทูุงุจ ุงูุฐูู ุฏุฑุฌุงุชูู **ุฃุนูู ูู ุฃู ุชุณุงูู 60**.</li>
                    <li>ุงูุฏุงูุฉ ูุฌุจ ุฃู ุชูุฑุฌุน **ูุตูููุฉ ุฌุฏูุฏุฉ** ุชุญุชูู ููุท ุนูู ุฃุณูุงุก ุงูุทูุงุจ ุงููุงุฌุญูู.</li>
                </ol>
            </p>
            <label>ุงูุชุจ ุงูููุฏ ุจุชุงุนู ููุง:</label>
            <textarea id="project_editor_1" class="editor">
const students = [
    { name: "ุนูู", id: 1, grade: 85 },
    { name: "ุณุงุฑุฉ", id: 2, grade: 55 },
    { name: "ูุญูุฏ", id: 3, grade: 92 },
    { name: "ุฎุงูุฏ", id: 4, grade: 40 }
];

function findPassed(studentList) {
    const passedStudents = [];
    
    // ุงุณุชุฎุฏู ุญููุฉ ููุชูุฑุงุฑ ุนูู ูุตูููุฉ ุงููุงุฆูุงุช
    studentList.forEach(student => {
        // ุงููุตูู ุฅูู ุฎุงุตูุฉ grade ุฏุงุฎู ุงููุงุฆู
        if (student.grade >= 60) {
            // ุฅุถุงูุฉ ุงุณู ุงูุทุงูุจ ุงููุงุฌุญ ูููุตูููุฉ ุงูุฌุฏูุฏุฉ
            passedStudents.push(student.name);
        }
    });

    return passedStudents;
}

console.log(findPassed(students)); 
</textarea>
            <div style="text-align:center;">
                <button class="btn" onclick="runProjectTest(1)">โถ ุชุดุบูู ุงูููุฏ ูุงุฎุชุจุงุฑ ุงููุชูุฌุฉ</button>
            </div>
            <div id="project_output_1" class="project-output">ุงููุงุชุฌ ุณูุธูุฑ ููุง...</div>
        </div>

        <h2>โญ ูุดุฑูุน ุงูุชุฎุฑุฌ ุงูููุงุฆู (2): ุชุญููู ุงูุจูุงูุงุช ุจุงุณุชุฎุฏุงู ุงูุฏูุงู ุงููุชูุฏูุฉ (Filter & Map)</h2>
        <div class="project-section new-concept">
            <p class="project-explanation">
                **ุงููููุฉ:** ุงุณุชุฎุฏุงู ุงูุฏูุงู ุงููุชูุฏูุฉ (`filter` ู `map`) ูุชุจุณูุท ุงูููุฏ.
                <ol style="text-align: right;">
                    <li>ุงุณุชุฎุฏู ุงููุตูููุฉ <code>students</code> ูู ุงููุดุฑูุน ุงูุณุงุจู.</li>
                    <li>ุงูุชุจ ุฏุงูุฉ ุณูููุฉ (Arrow Function) ุงุณููุง <code>getFailedNames</code> ุชุณุชุฎุฏู ุงูุฏุงูุฉ **`filter`** ูุชุญุฏูุฏ ุงูุทูุงุจ **ุงูุฑุงุณุจูู (ุฃูู ูู 60)**.</li>
                    <li>ุจุนุฏ ุฐููุ ุงุณุชุฎุฏู ุงูุฏุงูุฉ **`map`** ุนูู ูุงุชุฌ `filter` ููุญุตูู ุนูู ูุตูููุฉ ุฌุฏูุฏุฉ ุจุฃุณูุงุก ูุคูุงุก ุงูุทูุงุจ ููุท.</li>
                </ol>
            </p>
            <label>ุงูุชุจ ุงูููุฏ ุจุชุงุนู ููุง:</label>
            <textarea id="project_editor_2" class="editor">
const students = [
    { name: "ุนูู", id: 1, grade: 85 },
    { name: "ุณุงุฑุฉ", id: 2, grade: 55 },
    { name: "ูุญูุฏ", id: 3, grade: 92 },
    { name: "ุฎุงูุฏ", id: 4, grade: 40 }
];

// ุฏุงูุฉ ุณูููุฉ ุชุณุชุฎุฏู filter ู map ูุนุงู
const getFailedNames = (studentList) => {
    // 1. ุงุณุชุฎุฏุงู filter ูุงุฎุชูุงุฑ ุงูุทูุงุจ ุงูุฑุงุณุจูู
    const failedStudents = studentList.filter(student => student.grade < 60);
    
    // 2. ุงุณุชุฎุฏุงู map ูุชุญููู ูุตูููุฉ ุงููุงุฆูุงุช ุฅูู ูุตูููุฉ ุฃุณูุงุก
    const failedNames = failedStudents.map(student => student.name);

    return failedNames;
};


console.log(getFailedNames(students)); 
</textarea>
            <div style="text-align:center;">
                <button class="btn" onclick="runProjectTest(2)">โถ ุชุดุบูู ุงูููุฏ ูุงุฎุชุจุงุฑ ุงููุชูุฌุฉ</button>
            </div>
            <div id="project_output_2" class="project-output">ุงููุงุชุฌ ุณูุธูุฑ ููุง...</div>
        </div>
        <div class="congratulations" style="margin-top: 40px;">
            ๐ ูุจุฑูู ุนููู ุฅุชูุงู ุฃุณุงุณูุงุช JavaScript! ๐
            <p style="font-size: 0.8em; margin-top: 10px;">ุฃูุช ุงูุขู ุฌุงูุฒ ููุงูุชูุงู ุฅูู ูุฑุญูุฉ ุจูุงุก ูุงุฌูุงุช ุงููุณุชุฎุฏู ุงููุชูุฏูุฉ (DOM).</p>
        </div>
        <br>
        <div style="text-align:center;">
    <button class="btn" onclick="location.href='lesson5.html'">โฌ๏ธ ุงูุฏุฑุณ ุงูุฎุงูุณ</button> 
    <button class="btn test-btn" onclick="location.href='final_quiz.html'">๐ ุงูุงุฎุชุจุงุฑ ูุงูุชูููู ุงูููุงุฆู</button>
    <button class="btn" onclick="location.href='index.html'">๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</button>
        </div>
    
        </div>
    	<!-- ๐ Footer ุฃููู -->
    <div class="footer">
                ุชุตููู ุจูุงุณุทุฉ <strong>Ahmed Ezzat</strong> โค๏ธ
    </div>
    <script>
        // ------------------------------------------------------------------------------------------------
        // ูุธุงุฆู ุงูุชูููุฐ ุงูุฃุณุงุณูุฉ (Execution Utilities) 
        // ------------------------------------------------------------------------------------------------
        function executeAndCapture(codeStr){
            const logs = [];
            const origConsole = window.console.log; 
            const timeoutDuration = 3000; 

            window.console.log = function(...args){
                const line = args.map(a=>{
                    if (typeof a === 'object' && a !== null) {
                        try { return JSON.stringify(a); } catch(e){ return String(a); } 
                    }
                    return String(a);
                }).join(' ');
                logs.push(line);
                try { origConsole.apply(window.console, args); } catch(e){}
            };

            let error = null;
            let startTime = Date.now(); 
            try {
                // ูุณุชุฎุฏู 'use strict' ููุฑุถ ููุงุนุฏ ุงููุทุงู ุงูุญุฏูุซุฉ
                const codeToExecute = `'use strict';\n${codeStr}`;
                const fn = new Function(codeToExecute);
                
                let isTimeout = false;
                const runLoop = setTimeout(() => {
                    isTimeout = true;
                    throw new Error("Execution timed out (Possible Infinite Loop).");
                }, timeoutDuration);

                fn();

                clearTimeout(runLoop); 

                if (Date.now() - startTime > timeoutDuration || isTimeout) {
                    error = { msg: "Execution timed out (Possible Infinite Loop)." };
                    logs.length = 0; 
                }

            } catch (err) {
                let msg = err && err.message ? err.message : String(err);
                msg = msg.replace(/\n/g,' ').replace(/\s+/g,' ').trim();
                error = { msg };
            } finally {
                window.console.log = origConsole;
            }
            return { logs, error };
        }

        function runExample(code, outputId) {
            const outputEl = document.getElementById(outputId);
            outputEl.classList.remove('error');
            
            const result = executeAndCapture(code);
            
            if (result.error) {
                outputEl.classList.add('error');
                outputEl.textContent = `โ ุฎุทุฃ ูู ุงูุชูููุฐ:\n${result.error.msg}`;
            } else {
                outputEl.textContent = result.logs.join('\n');
            }
        }
        
        // ------------------------------------------------------------------------------------------------
        // ุชูููุฐ ุงูุฃูุซูุฉ ุงูุชูุถูุญูุฉ
        // ------------------------------------------------------------------------------------------------

        function runObjectExample() {
            const code = `
                const book = {
                    title: "ูู ุงูุจุฑูุฌุฉ",
                    author: "ุฃุญูุฏ",
                    pages: 350,
                    "publish year": 2023
                };
                console.log("ุงูุนููุงู (ููุทุฉ):", book.title); 
                const keyName = 'pages';
                console.log("ุงูุตูุญุงุช (ููุณ+ูุชุบูุฑ):", book[keyName]);
                console.log("ุณูุฉ ุงููุดุฑ (ููุณ+ูุณุงูุฉ):", book['publish year']);
            `;
            runExample(code, 'object_output');
        }

        function runObjectLoopExample() {
            const code = `
                const book = { title: "ูู ุงูุจุฑูุฌุฉ", author: "ุฃุญูุฏ" };
                book.pages = 400; 
                delete book.author;
                
                let info = 'ุงูุฎูุงุต ุจุนุฏ ุงูุชุนุฏูู: ';
                for (let key in book) {
                    info += \`\${key}: \${book[key]} | \`;
                }
                console.log(info);
            `;
            runExample(code, 'object_loop_output');
        }

        function runScopeExample() {
            const code = `
                function testScope() {
                    if (true) {
                        var oldVar = "ุฃูุง Var! (ูุทุงูู ุฏุงูุฉ)";
                        let newLet = "ุฃูุง Let! (ูุทุงูู ูุชูุฉ)";
                    }
                    
                    let result = "Var ูู ุงูุฎุงุฑุฌ: " + oldVar + " | "; 
                    
                    console.log(result);
                    // ูู ุญุงููุช ุงููุตูู ูู newLet ููุงุ ูุงู ุณูุธูุฑ ุฎุทุฃ
                }
                testScope();
            `;
            runExample(code, 'scope_output');
        }

        function runCallbackExample() {
            const code = `
                function processNumbers(arr, callback) {
                    console.log("ุจุฏุก ุงููุนุงูุฌุฉ...");
                    for (let i = 0; i < arr.length; i++) {
                        callback(arr[i]);
                    }
                }
                
                function logDouble(number) {
                    console.log(\`ุงูุนุฏุฏ \${number} ูุถูุนูู \${number * 2}\`);
                }
                
                processNumbers([1, 5, 10], logDouble); 
            `;
            runExample(code, 'callback_output');
        }

        function runArrowFunctionExample() {
             const code = `
                const add = (a, b) => a + b;
                const isEven = num => {
                    if (num % 2 === 0) {
                        return true;
                    }
                    return false;
                };

                console.log("ุงูุฌูุน:", add(10, 5));
                console.log("ูู 8 ุฒูุฌูุ", isEven(8));
             `;
             runExample(code, 'arrow_output');
        }

        function runArrayFunctionsExample() {
            const code = `
                const numbers = [10, 50, 5, 80];
                
                const filtered = numbers.filter(num => num > 20);
                console.log("ุงูุฃูุจุฑ ูู 20:", filtered); 
                
                const doubled = numbers.map(num => num * 2);
                console.log("ุงููุถุงุนูุงุช:", doubled); 
            `;
            runExample(code, 'array_functions_output');
        }

        function runTryCatchExample() {
            const code = `
                function safeDivision(a, b) {
                    try {
                        if (b === 0) {
                            throw new Error("ูุง ูููู ุงููุณูุฉ ุนูู ุตูุฑ!"); 
                        }
                        return a / b;
                    } catch (error) {
                        console.log("ุชู ุงูุชูุงุท ุงูุฎุทุฃ. ุงูุฑุณุงูุฉ:", error.message);
                        return "ุญุฏุซ ุฎุทุฃ (ุชูุช ูุนุงูุฌุชู).";
                    }
                }
                
                console.log("ุงููุชูุฌุฉ ุงูุฃููู (10/2):", safeDivision(10, 2));
                console.log("ุงููุชูุฌุฉ ุงูุซุงููุฉ (10/0):", safeDivision(10, 0)); 
            `;
            runExample(code, 'try_catch_output');
        }
        
        // ------------------------------------------------------------------------------------------------
        // ูุธููุฉ ุงุฎุชุจุงุฑ ูุดุงุฑูุน ุงูุชุฎุฑุฌ
        // ------------------------------------------------------------------------------------------------
        function runProjectTest(projectNumber){
            const editor = document.getElementById(`project_editor_${projectNumber}`);
            const outputEl = document.getElementById(`project_output_${projectNumber}`);
            const code = editor.value || '';
            const cleanedCode = code.replace(/\/\*[\s\S]*?\*\//g, '').replace(/\/\/.*$/gm, '').trim();

            outputEl.classList.remove('success', 'error');
            outputEl.textContent = '... ุฌุงุฑู ุงูุชูููุฐ ูุงูุชุญูู ...';

            if (!cleanedCode) {
                outputEl.classList.add('error');
                outputEl.textContent = 'โ๏ธ ุงูุชุจ ุงูููุฏ ุฃููุงู.';
                return;
            }

            const studentRes = executeAndCapture(code);

            if (studentRes.error) {
                outputEl.classList.add('error');
                outputEl.textContent = `โ ุฎุทุฃ ูู ุงูููุฏ: ${studentRes.error.msg}`;
                return;
            }

            // ููุทู ุงูุชุญูู ูููุดุงุฑูุน
            let expectedResultStr;
            let successMessage;
            let failMessage;

            if (projectNumber === 1) {
                expectedResultStr = JSON.stringify(['ุนูู', 'ูุญูุฏ']);
                successMessage = "๐ ูุจุฑูู! ูุฌุงุญ ุงููุดุฑูุน ุงูุฃูู! (ุงูููุฌ ุงูุชูููุฏู)";
                failMessage = "โ ูุดู ุงุฎุชุจุงุฑ ุงููุดุฑูุน ุงูุฃูู: ุงูุฏุงูุฉ ูู ุชูุฑุฌุน ุฃุณูุงุก ุงูุทูุงุจ ุงููุงุฌุญูู ุจุดูู ุตุญูุญ. (ุชุฃูุฏ ูู ุงูุฏุฑุฌุฉ 60)";
            } else if (projectNumber === 2) {
                expectedResultStr = JSON.stringify(['ุณุงุฑุฉ', 'ุฎุงูุฏ']);
                successMessage = "๐ ูุฐูู! ูุฌุงุญ ุงููุดุฑูุน ุงูุซุงูู! (ุงูููุฌ ุงูุญุฏูุซ - filter ู map)";
                failMessage = "โ ูุดู ุงุฎุชุจุงุฑ ุงููุดุฑูุน ุงูุซุงูู: ุงูุฏุงูุฉ ูู ุชูุฑุฌุน ุฃุณูุงุก ุงูุทูุงุจ ุงูุฑุงุณุจูู ุจุดูู ุตุญูุญ. (ุชุฃูุฏ ูู ุงูุฏุฑุฌุฉ ุฃูู ูู 60)";
            } else {
                 outputEl.classList.add('error');
                 outputEl.textContent = 'ุฎุทุฃ ูู ุชุญุฏูุฏ ุฑูู ุงููุดุฑูุน.';
                 return;
            }

            let result = (studentRes.logs || []).map(l => l.trim()).filter(l => l !== '').pop() || ''; 
            
            // ุชูุธูู ุงููุชูุฌุฉ ูู Console.log
            if(result.startsWith('[') && result.endsWith(']')) {
                 result = result.replace(/(\s|,)/g, '');
            }
            const expectedClean = expectedResultStr.replace(/(\s|,)/g, '');

            if (result === expectedClean) {
                outputEl.classList.add('success');
                outputEl.textContent = `${successMessage}\nุงููุงุชุฌ ุงูููุงุฆู: ${result}`;
            } else {
                outputEl.classList.add('error');
                outputEl.textContent = `${failMessage}\nุงููุชููุน: ${expectedResultStr}\nุงููุงุชุฌ: ${result || '(ูุง ุดูุก)'}`;
            }
        }
    </script>
</body>
</html>