<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ | Ù…Ù†ØµØ© Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³</title>
    <style>
        :root {
            --primary-color: #0d6efd;
            --success-color: #25d366;
            --dark-bg: #1a1a2e;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f0f2f5;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
        }

        .reg-card {
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            width: 90%;
            max-width: 420px;
            text-align: center;
        }

        h2 { color: var(--dark-bg); margin-bottom: 10px; }
        p { color: #666; font-size: 14px; margin-bottom: 25px; }

        .input-group { text-align: right; margin-bottom: 15px; }
        label { display: block; margin-bottom: 5px; font-weight: bold; color: #333; }
        
        input {
            width: 100%;
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 10px;
            box-sizing: border-box;
            transition: 0.3s;
            font-size: 16px;
        }

        input:focus {
            border-color: var(--primary-color);
            outline: none;
            background: #f8fbff;
        }

        .id-badge {
            background: #e7f1ff;
            color: var(--primary-color);
            padding: 10px;
            border-radius: 8px;
            font-weight: bold;
            border: 1px dashed var(--primary-color);
            margin-bottom: 20px;
            font-size: 18px;
        }

        button {
            background: var(--success-color);
            color: white;
            border: none;
            padding: 15px;
            width: 100%;
            border-radius: 12px;
            cursor: pointer;
            font-size: 18px;
            font-weight: bold;
            transition: 0.3s;
            box-shadow: 0 5px 15px rgba(37, 211, 102, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(37, 211, 102, 0.4);
        }

        .footer-link { margin-top: 20px; font-size: 14px; }
        .footer-link a { color: var(--primary-color); text-decoration: none; }
    </style>
</head>
<body>

<div class="reg-card">
    <h2>Ø¥Ù†Ø´Ø§Ø¡ Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ âœ¨</h2>
    <p>Ø£Ø¯Ø®Ù„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ Ù„ØªÙ‚Ø¯ÙŠÙ… Ø·Ù„Ø¨ ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ±Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ</p>
    
    <div class="id-badge" id="displayReqId">ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨...</div>

    <div class="input-group">
        <label>Ø§Ù„Ø§Ø³Ù… Ø§Ù„Ø«Ù„Ø§Ø«ÙŠ</label>
        <input type="text" id="regName" placeholder="Ù…Ø«Ø§Ù„: Ø£Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯ Ø¹Ù„ÙŠ">
    </div>

    <div class="input-group">
        <label>Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ</label>
        <input type="email" id="regEmail" placeholder="name@example.com">
    </div>

    <div class="input-group">
        <label>Ø±Ù‚Ù… Ø§Ù„Ù…ÙˆØ¨Ø§ÙŠÙ„ (ÙˆØ§ØªØ³Ø§Ø¨)</label>
        <input type="tel" id="regPhone" placeholder="010xxxxxxxx">
    </div>

    <div class="input-group">
        <label>ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± (Ù„Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø³ØªÙ‚Ø¨Ù„Ø§Ù‹)</label>
        <input type="password" id="regPass" placeholder="Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ù‚ÙˆÙŠØ©">
    </div>

    <button onclick="handleRegistration()">Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„Ø­Ø³Ø§Ø¨ ÙˆØªÙØ¹ÙŠÙ„ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ ğŸš€</button>

    <div class="footer-link">
        Ù„Ø¯ÙŠÙƒ Ø­Ø³Ø§Ø¨ Ø¨Ø§Ù„ÙØ¹Ù„ØŸ <a href="login.html">Ø³Ø¬Ù„ Ø¯Ø®ÙˆÙ„Ùƒ Ù…Ù† Ù‡Ù†Ø§</a>
    </div>
</div>

<script>
    // 1. ØªÙˆÙ„ÙŠØ¯ ÙƒÙˆØ¯ Ø·Ù„Ø¨ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    const generatedId = "REQ-" + Math.floor(100000 + Math.random() * 900000);
    document.getElementById('displayReqId').innerText = "ÙƒÙˆØ¯ Ø·Ù„Ø¨Ùƒ: " + generatedId;

    // 2. ÙˆØ¸ÙŠÙØ© Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„ØªØ³Ø¬ÙŠÙ„
    function handleRegistration() {
        const name = document.getElementById('regName').value.trim();
        const email = document.getElementById('regEmail').value.trim();
        const phone = document.getElementById('regPhone').value.trim();
        const pass = document.getElementById('regPass').value.trim();

        // Ø§Ù„ØªØ£ÙƒØ¯ Ù…Ù† Ù…Ù„Ø¡ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        if (!name || !email || !phone || !pass) {
            alert("âš ï¸ Ù…Ù† ÙØ¶Ù„Ùƒ Ø£ÙƒÙ…Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©");
            return;
        }

        // 3. Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ "Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØµÙØ­" Ù„ØªØ¸Ù‡Ø± ÙÙŠ ØµÙØ­Ø© Ø§Ù„Ø£Ø¯Ù…Ù†
        let allRequests = JSON.parse(localStorage.getItem('studentRequests')) || [];
        
        const newStudent = {
            id: generatedId,
            name: name,
            email: email,
            phone: phone,
            password: pass, // Ø³Ù†Ø­ØªØ§Ø¬Ù‡Ø§ Ø¹Ù†Ø¯ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ù„Ø§Ø­Ù‚Ø§Ù‹
            status: 'â³ Ø§Ù†ØªØ¸Ø§Ø±',
            date: new Date().toLocaleString('ar-EG')
        };

        allRequests.push(newStudent);
        localStorage.setItem('studentRequests', JSON.stringify(allRequests));

        // 4. ØªØ¬Ù‡ÙŠØ² Ø±Ø³Ø§Ù„Ø© Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨
        const adminNumber = "201003090216"; 
        const message = `Ø§Ù„Ø³Ù„Ø§Ù… Ø¹Ù„ÙŠÙƒÙ… ÙŠØ§ Ø¨Ø´Ù…Ù‡Ù†Ø¯Ø³..%0AØ£Ù†Ø§ Ø³Ø¬Ù„Øª Ø­Ø³Ø§Ø¨ Ø¬Ø¯ÙŠØ¯ ÙˆÙ…Ø­ØªØ§Ø¬ ØªÙØ¹ÙŠÙ„ Ø§Ù„ØªØ±Ù… Ø§Ù„Ø«Ø§Ù†ÙŠ.%0A%0AğŸ“Œ ØªÙØ§ØµÙŠÙ„ÙŠ:%0A- Ø§Ù„Ø§Ø³Ù…: ${name}%0A- Ø§Ù„Ø§ÙŠÙ…ÙŠÙ„: ${email}%0A- ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨: ${generatedId}%0A%0AÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø©.. Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ.`;
        
        alert("âœ… ØªÙ… ØªØ³Ø¬ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§ØªÙƒ ÙÙŠ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø±. Ø³ÙŠØªÙ… ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ø§Ù„Ø¢Ù† Ù„Ø¥Ø±Ø³Ø§Ù„ ÙƒÙˆØ¯ Ø§Ù„Ø·Ù„Ø¨ Ù„Ù„Ø¨Ø´Ù…Ù‡Ù†Ø¯Ø³.");

        // 5. ÙØªØ­ Ø§Ù„ÙˆØ§ØªØ³Ø§Ø¨ Ø«Ù… ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø·Ø§Ù„Ø¨ Ù„ØµÙØ­Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø£Ùˆ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„
        window.open(`https://wa.me/${adminNumber}?text=${message}`, '_blank');
        
        // ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø·Ø§Ù„Ø¨ Ù„ØµÙØ­Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø¹Ø¯ Ø«ÙˆØ§Ù†Ù
        setTimeout(() => {
            window.location.href = "login.html";
        }, 2000);
    }
</script>
<div id="adminLink" onclick="accessAdmin()" style="position: fixed; bottom: 10px; right: 10px; width: 30px; height: 30px; background: rgba(0,0,0,0.05); border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center; z-index: 1000; color: transparent;">
    âš™ï¸
    <style>
        #adminLink:hover { background: rgba(0,0,0,0.2); color: #666; }
    </style>
</div>

<script>
function accessAdmin() {
    var pass = prompt("Ù…Ù†Ø·Ù‚Ø© Ù…Ø­Ø¸ÙˆØ±Ø©! Ø£Ø¯Ø®Ù„ ÙƒÙ„Ù…Ø© Ù…Ø±ÙˆØ± Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:");
    if (pass === "ahmed/1/4") {
        window.location.href = "admin_panel.html";
    } else if (pass !== null) {
        alert("ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ± Ø®Ø·Ø£!");
    }
}
</script>
</body>
</html>