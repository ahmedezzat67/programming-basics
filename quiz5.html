<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ุงุฎุชุจุงุฑ ุงูุฏุฑุณ ุงูุฎุงูุณ - ุงููุตูููุงุช (Arrays) ูุฎูุงุต ุงูุฏูุงู ุงููุชูุฏูุฉ</title>
    <style>
        /* (CSS ุงูุฃููุงุท ูุจูู ููุง ูู ููุญูุงุธ ุนูู ุงูุชุตููู ุงูุชูุงุนูู ุงูุฌุฐุงุจ) */
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap');
        
        body {
            font-family: 'Cairo', sans-serif;
            background: linear-gradient(135deg, #f9f9f9, #e0f7fa);
            color: #222;
            text-align: center;
            padding: 20px;
        }

        h1 {
            color: #00796b;
            font-size: 2.2em;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.1);
        }
        h2 {
            color: #004d40;
            font-size: 1.6em;
            margin-top: 35px;
            border-bottom: 3px solid #009688;
            padding-bottom: 10px;
            display: inline-block;
        }

        .quiz-container {
            max-width: 950px;
            margin: auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15); 
            text-align: right;
        }

        .question {
            margin: 25px 0 15px 0;
            font-weight: 700;
            color: #004d40;
            white-space: pre-wrap;
            text-align: right;
            border-right: 4px solid #009688;
            padding-right: 15px;
        }
        
        .code-snippet {
            display: block;
            background-color: #f1f8e9;
            padding: 12px;
            margin: 10px 0;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            direction: ltr;
            text-align: left;
            overflow-x: auto;
            font-weight: 700;
            border: 1px solid #dcdcdc;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .option {
            background-color: #f1f8e9;
            border: 2px solid #009688;
            border-radius: 12px;
            padding: 12px;
            margin: 10px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: right;
            position: relative;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        .option:hover {
            background-color: #e0f2f1;
            transform: translateY(-2px); 
            box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        }
        
        .option.correct {
            background-color: #a5d6a7 !important; 
            border-color: #2e7d32;
            box-shadow: 0 0 10px rgba(46, 125, 50, 0.5); 
        }
        .option.wrong {
            background-color: #ef9a9a !important; 
            border-color: #c62828;
            box-shadow: 0 0 10px rgba(198, 40, 40, 0.5); 
        }

        .feedback {
            margin-top: 12px;
            font-size: 16px;
            font-weight: bold;
            color: #004d40;
            min-height: 25px; 
            line-height: 1.6;
            padding: 5px;
            border-radius: 5px;
        }

        .btn {
            background: linear-gradient(90deg, #009688, #26a69a);
            color: white;
            padding: 14px 30px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            margin: 10px 7px;
            transition: all 0.3s ease;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .btn:hover {
            transform: translateY(-3px) scale(1.05);
            background: linear-gradient(90deg, #00796b, #004d40);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }

        .btn:active {
            transform: translateY(0);
        }

        .result {
            font-size: 22px;
            margin-top: 30px;
            font-weight: bold;
            text-align: center;
            padding: 20px;
            border: 3px solid #009688;
            border-radius: 15px;
            background-color: #e0f7fa;
            color: #004d40;
            animation: fadeIn 1s ease-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); }
            100% { transform: scale(1); }
        }
        .result.pulse {
            animation: pulse 0.5s ease-in-out;
        }

        .project-section {
            border: 2px solid #009688;
            padding: 25px;
            border-radius: 15px;
            background-color: #f7fff7;
            margin-top: 25px;
        }
        .project-explanation {
            line-height: 1.8;
            font-weight: 600;
            text-align: right;
            color: #333;
        }
        .editor {
            width:100%;
            min-height:150px;
            font-family:monospace;
            font-size:15px;
            direction:ltr;
            text-align:left;
            border-radius:10px;
            padding:12px;
            border:2px solid #d6eae6;
            background:#fff;
            resize:vertical;
        }
        .project-output {
            margin-top: 10px;
            background:#fff;
            padding:12px;
            border-radius:8px;
            font-family:monospace;
            direction:ltr;
            text-align:left;
            white-space:pre-wrap;
            min-height:50px;
            color:#004d40;
            font-weight:700;
            border: 1px solid #ccc;
        }
        .project-output.error {
             background:#fff0f0;
             color:#a00;
             border-color: #a00;
        }
        .project-output.success {
             background: #e6ffe6;
             color: #0a0;
             border-color: #0a0;
        }
    </style>
</head>
<body>

    <h1>๐ฆ ุงุฎุชุจุงุฑ ุงูุฏุฑุณ ุงูุฎุงูุณ - ุงููุตูููุงุช ูุงูุฏูุงู ุงููุชูุฏูุฉ</h1>

    <div class="quiz-container" id="quiz">
        <div id="questions"></div>
        
        <div style="text-align:center; margin-top: 25px;">
            <button class="btn" onclick="submitQuiz()">ุนุฑุถ ูุฌููุน ุงูููุงุท</button>
            <button class="btn" onclick="showCorrectAnswers()">ุงุนุฑุถ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ</button>
        </div>
        <div id="result" class="result"></div>
        
        <hr style="margin: 40px 0; border-color: #eee;">
        
        <h2>๐ข ุงููุดุฑูุน ุงูุชุทุจููู ุงูุฃูู: ุฏุงูุฉ ูุถุงุนูุฉ ุนูุงุตุฑ ุงููุตูููุฉ</h2>
        <div class="project-section">
            <p class="project-explanation">
                <strong>ุงููููุฉ:</strong> ุงูุชุจ ุฏุงูุฉ ุชุณูู <code>doubleArray</code> ุชูุจู ูุตูููุฉ ูู ุงูุฃุฑูุงู (<code>nums</code>). ูุฌุจ ุฃู ุชุณุชุฎุฏู ูุฐู ุงูุฏุงูุฉ ุญููุฉ **For** ูุชูุฑุงุฑ ุนูู ุนูุงุตุฑ ุงููุตูููุฉ ูุชุบููุฑ ูู ุนูุตุฑ ููุตุจุญ **ุถุนู ูููุชู** (ุฃู ูุถุฑูุจุงู ูู 2)ุ ุซู ุฅุฑุฌุงุน **ููุณ ุงููุตูููุฉ** ุจุนุฏ ุงูุชุนุฏูู.
                <ol style="text-align: right;">
                    <li>ุนุฑูู ุงูุฏุงูุฉ ุจุงูุดูู: <code>function doubleArray(nums) { ... }</code>.</li>
                    <li>ุงุณุชุฎุฏู ุญููุฉ <code>for</code> ูุน ุงูููุฑุณ (Index) ููุชูุฑุงุฑ.</li>
                    <li>ุฏุงุฎู ุงูุญููุฉุ ูู ุจุชุญุฏูุซ ุงูุนูุตุฑ: <code>nums[i] = nums[i] * 2;</code>.</li>
                    <li>ุฃุนุฏ ุงููุตูููุฉ ุจุนุฏ ุงูุชุนุฏูู: <code>return nums;</code>.</li>
                </ol>
            </p>
            <label>ุงูุชุจ ุงูููุฏ ุจุชุงุนู ููุง:</label>
            <textarea id="project_editor_1" class="editor">function doubleArray(nums) {
    // ุงุณุชุฎุฏู ุญููุฉ For ููุชุนุฏูู ุนูู ุงููุตูููุฉ
    for (let i = 0; i < nums.length; i++) {
        // ุถุงุนู ูููุฉ ุงูุนูุตุฑ ูู ูููุนู
        nums[i] = nums[i] * 2; 
    }
    return nums;
}

const originalArr = [2, 4, 1];
console.log(doubleArray(originalArr)); // ุงููุชููุน: [4, 8, 2]
</textarea>
            <div style="text-align:center;">
                <button class="btn" onclick="runProjectTest(1)">โถ ุชุดุบูู ุงูููุฏ ูุงุฎุชุจุงุฑ ุงููุชูุฌุฉ</button>
            </div>
            <div id="project_output_1" class="project-output">ุงููุงุชุฌ ุณูุธูุฑ ููุง...</div>
        </div>
        
        <h2>โญ ุงููุดุฑูุน ุงูุชุทุจููู ุงูุซุงูู: ุฏุงูุฉ ุงูุฌุฐุฑ ุงูุชุฑุจูุนู ูุนุฏุฏูู</h2>
        <div class="project-section">
            <p class="project-explanation">
                <strong>ุงููููุฉ:</strong> ุงูุชุจ ุฏุงูุฉ ุชุณูู <code>calculateRoots</code> ุชูุจู ุฑูููู ููุฌุจูู (<code>a, b</code>). ูุฌุจ ุฃู ุชุณุชุฎุฏู ูุฐู ุงูุฏุงูุฉ <code>Math.sqrt()</code> ูุฅูุฌุงุฏ ุงูุฌุฐุฑ ุงูุชุฑุจูุนู ููู ูู ุงูุฑููููุ ุซู ุชูุฑุฌุน **ูุฌููุน** ูุฐูู ุงูุฌุฐุฑูู.
                <ol style="text-align: right;">
                    <li>ุนุฑูู ุงูุฏุงูุฉ ุจุงูุดูู: <code>function calculateRoots(a, b) { ... }</code>.</li>
                    <li>ุงุณุชุฎุฏู <code>Math.sqrt(a)</code> ู <code>Math.sqrt(b)</code>.</li>
                    <li>ูู ุจุฌูุน ุงููุชูุฌุชูู.</li>
                    <li>ุฃุนุฏ ูููุฉ ุงููุฌููุน.</li>
                </ol>
            </p>
            <label>ุงูุชุจ ุงูููุฏ ุจุชุงุนู ููุง:</label>
            <textarea id="project_editor_2" class="editor">function calculateRoots(a, b) {
    // ุงุญุณุจ ุงูุฌุฐุฑ ุงูุชุฑุจูุนู ููู ุฑูู
    const rootA = Math.sqrt(a);
    const rootB = Math.sqrt(b);

    // ุฃุนุฏ ูุฌููุน ุงูุฌุฐุฑูู
    return rootA + rootB;
}

console.log(calculateRoots(4, 9)); // ุงููุชููุน: 5 (2 + 3)
</textarea>
            <div style="text-align:center;">
                <button class="btn" onclick="runProjectTest(2)">โถ ุชุดุบูู ุงูููุฏ ูุงุฎุชุจุงุฑ ุงููุชูุฌุฉ</button>
            </div>
            <div id="project_output_2" class="project-output">ุงููุงุชุฌ ุณูุธูุฑ ููุง...</div>
        </div>
        
        <br>
        <div style="text-align:center;">
            <button class="btn" onclick="location.href='lesson4.html'">โฌ๏ธ ุงูุฏุฑุณ ุงูุฑุงุจุน</button> 
            <button class="btn" onclick="location.href='index.html'">๐ ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</button>
            <button class="btn" onclick="location.href='lesson6.html'">๐ ุงูุฏุฑุณ ุงูุณุงุฏุณ โก๏ธ</button>
        </div>
    </div>

    <div class="footer">
        ุชู ุงูุชุตููู ุจูุงุณุทุฉ <strong>Ahmed Ezzat</strong> โค๏ธ
    </div>

    <script>
        // ------------------------------------------------------------------------------------------------
        // (ุฃุณุฆูุฉ ุงูุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ ููุง ูู)
        // ------------------------------------------------------------------------------------------------
        const quizData = [
             { question: "ูุง ูู ุงูุทุฑููุฉ ุงูุตุญูุญุฉ ูุชุนุฑูู ูุตูููุฉ (Array) ูุงุฑุบุฉ ูู JavaScriptุ", options: ["let arr = {};", "let arr = [];", "let arr = array();", "let arr = new list();"], answer: 1, explanation: "ูุชู ุชุนุฑูู ุงููุตูููุฉ ุจุงุณุชุฎุฏุงู ุงูุฃููุงุณ ุงููุนูููุฉ ุงููุฑุจุนุฉ <code>[]</code>." },
             { question: "ูุง ูู ุงูููุฑุณ (Index) ูุนูุตุฑ 'Banana' ูู ุงููุตูููุฉุ\n<span class='code-snippet'>const fruits = ['Apple', 'Banana', 'Orange'];</span>", options: ["0", "1", "2", "3"], answer: 1, explanation: "ููุฑุณุฉ ุงููุตูููุงุช ุชุจุฏุฃ ุฏุงุฆูุงู ูู ุงูุตูุฑ." },
             { question: "ูุฅุถุงูุฉ ุนูุตุฑ ุฌุฏูุฏ ูู ููุงูุฉ ูุตูููุฉ 'list'ุ ูุณุชุฎุฏู ุงูุฏุงูุฉ:", options: ["list.push('item')", "list.add('item')", "list.insertLast('item')", "list.pop('item')"], answer: 0, explanation: "ุฏุงูุฉ <code>.push()</code> ุชูุณุชุฎุฏู ูุฅุถุงูุฉ ุนูุตุฑ ุฃู ุฃูุซุฑ ุฅูู ููุงูุฉ ุงููุตูููุฉ." },
             { question: "ูุงุฐุง ุชุฑุฌุน ุงูุฎุงุตูุฉ <code>names.length</code> ูููุตูููุฉุ\n<span class='code-snippet'>const names = ['Ali', 'Samir', 'Fahad'];</span>", options: ["2", "3", "4", "ุงููููุฉ ุงูุฃููู ูู ุงููุตูููุฉ"], answer: 1, explanation: "ุชุฑุฌุน ุงูุฎุงุตูุฉ <code>.length</code> ุนุฏุฏ ุงูุนูุงุตุฑ ุงูููุฌูุฏุฉ ูู ุงููุตูููุฉุ ููู ููุง 3." },
             { question: "ูุงุฐุง ุณูุชู ุทุจุงุนุชู ุจูุงุณุทุฉ <code>console.log(cars.pop())</code>ุ\n<span class='code-snippet'>const cars = ['BMW', 'Honda', 'Tesla'];</span>", options: ["BMW", "Honda", "Tesla", "Array ['BMW', 'Honda']"], answer: 2, explanation: "ุฏุงูุฉ <code>.pop()</code> ุชุฒูู ุขุฎุฑ ุนูุตุฑ ูู ุงููุตูููุฉ ูุชูุฑุฌุนู. ุขุฎุฑ ุนูุตุฑ ูู 'Tesla'." },
             { question: "ูุง ูู ุงููููุฉ ุงูุชู ุชุฑุฌุนูุง ุงูุฏุงูุฉ <code>Math.abs(-10.5)</code>ุ", options: ["10.5", "-10.5", "10", "11"], answer: 0, explanation: "ุฏุงูุฉ <code>Math.abs()</code> ุชุฑุฌุน ุงููููุฉ ุงููุทููุฉ (Absolute Value) ููุฑูู." },
             { question: "ูููุตูู ุฅูู ุงูุนูุตุฑ ุงูุฃูู ูู ูุตูููุฉ ุงุณููุง <code>data</code>ุ ูุณุชุฎุฏู ุงูููุฏ:", options: ["data(1)", "data[1]", "data[0]", "data.first"], answer: 2, explanation: "ูุชู ุงููุตูู ููุนูุงุตุฑ ุจุงุณุชุฎุฏุงู ุงุณู ุงููุตูููุฉ ูุงูุฃููุงุณ ุงููุฑุจุนุฉ ูุงูููุฑุณุ ูุงูููุฑุณ ุงูุฃูู ูู 0." },
             { question: "ูุงุฐุง ุณูุชู ุทุจุงุนุชูุ\n<span class='code-snippet'>const arr = [5, 10];\narr[1] = 20;\nconsole.log(arr[1]);</span>", options: ["5", "10", "20", "ุฎุทุฃ"], answer: 2, explanation: "ุชู ุชุญุฏูุซ ูููุฉ ุงูุนูุตุฑ ูู ุงูููุฑุณ 1 ูู 10 ุฅูู 20." },
             { question: "ุฃู ูู ุงูุญููุงุช ุงูุชุงููุฉ ุชูุณุชุฎุฏู ุชุญุฏูุฏุงู ููุชูุฑุงุฑ ุนูู ุนูุงุตุฑ ุงููุตูููุงุช ุจุณูููุฉุ", options: ["ุญููุฉ While", "ุญููุฉ Do...While", "ุญููุฉ For", "ุฏุงูุฉ forEach()"], answer: 3, explanation: "ุฏุงูุฉ <code>.forEach()</code> ูู ุงูุฃุณููุจ ุงูุฃูุซุฑ ุดููุนุงู ููุชูุฑุงุฑ ุนูู ุนูุงุตุฑ ุงููุตูููุฉ ูุจุงุดุฑุฉ." },
             { question: "ูุฅุฒุงูุฉ ุงูุนูุตุฑ ุงูุฃูู ูู ูุตูููุฉ ูุงุณุชุฑุฌุงุนูุ ูุณุชุฎุฏู ุงูุฏุงูุฉ:", options: ["pop()", "shift()", "push()", "unshift()"], answer: 1, explanation: "ุฏุงูุฉ <code>.shift()</code> ุชุฒูู ุงูุนูุตุฑ ุงูุฃูู ูุชุนูุฏู." },
             { question: "ูุง ูู ุงููููุฉ ุงูุชู ุชุฑุฌุนูุง ุงูุฏุงูุฉ <code>Math.pow(2, 3)</code>ุ", options: ["6", "8", "9", "5"], answer: 1, explanation: "ุฏุงูุฉ <code>Math.pow(base, exponent)</code> ุชุญุณุจ ุงูุฃุณุงุณ ูุฑููุนุงู ููุฃุณ (2 ุฃุณ 3 = 8)." },
             { question: "ูุงุฐุง ุณูุชู ุทุจุงุนุชูุ\n<span class='code-snippet'>let x = [1, 2, 3];\nfunction changeArr(arr) {\n ยarr[0] = 99;\n}\nchangeArr(x);\nconsole.log(x[0]);</span>", options: ["1", "99", "ุฎุทุฃ", "undefined"], answer: 1, explanation: "ุงููุตูููุงุช ุชููุฑููุฑ ุจุงููุฑุฌุน (by reference)ุ ูุฐุง ุฃู ุชุนุฏูู ุฏุงุฎู ุงูุฏุงูุฉ ูุคุซุฑ ุนูู ุงููุตูููุฉ ุงูุฃุตููุฉ." },
             { question: "ุฃู ุฎุงุตูุฉ ุชูุณุชุฎุฏู ููุนุฑูุฉ ุนุฏุฏ ุงููุนุงููุงุช (Parameters) ุงููุชููุนุฉ ูู ุชุนุฑูู ุฏุงูุฉ ูุงุ", options: ["function.arguments", "function.name", "function.length", "function.params"], answer: 2, explanation: "ุชูุณุชุฎุฏู ุงูุฎุงุตูุฉ <code>.length</code> ุนูู ุงูุฏุงูุฉ ูุชุฑุฌุน ุนุฏุฏ ุงูู Parameters ุงููุนููุฉ ูู ุชุนุฑูููุง." },
             { question: "ูุฅุถุงูุฉ ุนูุตุฑ ุฌุฏูุฏ ุฅูู **ุจุฏุงูุฉ** ูุตูููุฉ 'list'ุ ูุณุชุฎุฏู ุงูุฏุงูุฉ:", options: ["list.push('item')", "list.shift('item')", "list.unshift('item')", "list.addFirst('item')"], answer: 2, explanation: "ุฏุงูุฉ <code>.unshift()</code> ุชูุณุชุฎุฏู ูุฅุถุงูุฉ ุนูุตุฑ ุฃู ุฃูุซุฑ ุฅูู ุจุฏุงูุฉ ุงููุตูููุฉ." },
             { question: "ูุง ูู ุงูุฎุทุฃ ูู ูุญุงููุฉ ุงููุตูู ููุนูุตุฑ ุงูุซุงูุซ ูู ูุตูููุฉ ุทูููุง 3ุ", options: ["ูุฌุจ ุงุณุชุฎุฏุงู <code>arr[3]</code>", "ูุฌุจ ุงุณุชุฎุฏุงู <code>arr[2]</code>", "ูุง ููุฌุฏ ุฎุทุฃ", "ูุฌุจ ุงุณุชุฎุฏุงู <code>arr.get(3)</code>"], answer: 1, explanation: "ุงูุนูุตุฑ ุงูุซุงูุซ ูู <code>arr[2]</code>. ุงูููุฑุณ 3 ูู ุฎุงุฑุฌ ุญุฏูุฏ ุงููุตูููุฉ." },
             { question: "ูุงุฐุง ุชุนูู ูููุฉ <code>arguments</code> ุฏุงุฎู ุงูุฏุงูุฉุ", options: ["ูุตูููุฉ ุจุฌููุน ุงููุชุบูุฑุงุช ุงูุฎุงุฑุฌูุฉ", "ูุตูููุฉ ุจุฌููุน ุงูููู ุงููููุฑุฑุฉ ููุฏุงูุฉ ุนูุฏ ุงุณุชุฏุนุงุฆูุง", "ุงููููุฉ ุงูููุชุงุญูุฉ <code>return</code>", "ุงุณู ุงูุฏุงูุฉ"], answer: 1, explanation: "<code>arguments</code> ูู ูุงุฆู ุดุจูู ุจุงููุตูููุฉ ูุญุชูู ุนูู ุฌููุน ุงููุนุทูุงุช ุงููููุฑุฑุฉ ุนูุฏ ุงูุงุณุชุฏุนุงุก." },
             { question: "ูู ุฏุงูุฉ ุงูุณูู <code>const x = (a) => a * 2;</code>ุ ูุง ูู ุงููููุฉ ุงูุชู ุชูุฑุฌุนูุง ุงูุฏุงูุฉ ุนูุฏ ุงุณุชุฏุนุงุฆูุง ุจุงูุดูู <code>x(10)</code>ุ", options: ["10", "20", "a * 2", "ุฎุทุฃ"], answer: 1, explanation: "ูู ุฏุงูุฉ ุงูุณูู ุฐุงุช ุงูุณุทุฑ ุงููุงุญุฏุ ูุชู ุฅุฑุฌุงุน ุงููููุฉ ุชููุงุฆูุงู ุฏูู ุงูุญุงุฌุฉ ููููุฉ <code>return</code>." },
             { question: "ูุฅุฑุฌุงุน ุงููููุฉ ุงูุนุดูุงุฆูุฉ ุงูุตุญูุญุฉ (Integer) ุจูู 0 ู 9 (ุดุงููุฉ)ุ ูุณุชุฎุฏู:", options: ["Math.random() * 10", "Math.round(Math.random() * 10)", "Math.floor(Math.random() * 10)", "Math.ceil(Math.random() * 9)"], answer: 2, explanation: "ูุชู ุงุณุชุฎุฏุงู <code>Math.floor(Math.random() * 10)</code>." },
             { question: "ุฅุฐุง ูุงูุช ูุฏููุง ูุตูููุฉ <code>arr</code>ุ ููุชูุฑุงุฑ ุนูููุง ุจุงุณุชุฎุฏุงู <code>forEach</code>ุ ูุณุชุฎุฏู ุงูููุฏ:", options: ["<code>arr.forEach(element)</code>", "<code>arr.forEach(function(el) { ... })</code>", "<code>for (let el of arr)</code>", "<code>arr.for(el)</code>"], answer: 1, explanation: "ุฏุงูุฉ <code>.forEach()</code> ุชุณุชูุจู ุฏุงูุฉ (Callback Function) ููุนุงูู ููุง." },
             { question: "ูุง ูู ุงููููุฉ ุงูุชู ุชุฑุฌุนูุง ุงูุฏุงูุฉ <code>Math.sqrt(49)</code>ุ", options: ["7", "6", "24.5", "49"], answer: 0, explanation: "ุฏุงูุฉ <code>Math.sqrt()</code> ุชุญุณุจ ุงูุฌุฐุฑ ุงูุชุฑุจูุนู ููุฑูู." }
        ];

        // ------------------------------------------------------------------------------------------------
        // (ูุธุงุฆู ูุงุฌูุฉ ุงููุณุชุฎุฏู ูุจูุงุก ุงูุฃุณุฆูุฉ ุชุจูู ููุง ูู)
        // ------------------------------------------------------------------------------------------------
        const questionsDiv = document.getElementById("questions");
        let selectedAnswers = new Array(quizData.length).fill(null);
        
        quizData.forEach((q, i) => {
            const div = document.createElement("div");
            div.classList.add("question-block");
            div.id = `q-${i}`; 
            
            div.innerHTML = `
                <p class="question">${i + 1}. ${q.question}</p>
                ${q.options.map((opt, index) => `
                    <div class="option" data-q-index="${i}" data-opt-index="${index}" onclick="selectOption(${i}, ${index}, this)">${opt}</div>
                `).join('')}
                <div id="feedback-${i}" class="feedback"></div>
            `;
            questionsDiv.appendChild(div);
        });

        function selectOption(qIndex, optIndex, el) {
            const questionBlock = el.parentNode;
            const options = questionBlock.querySelectorAll(".option");
            const feedback = questionBlock.querySelector(`#feedback-${qIndex}`);
            const q = quizData[qIndex];

            options.forEach(opt => {
                opt.classList.remove('correct', 'wrong');
                opt.style.backgroundColor = "#f1f8e9";
                opt.style.boxShadow = "0 2px 5px rgba(0,0,0,0.1)"; 
            });

            selectedAnswers[qIndex] = optIndex;
            
            if (optIndex === q.answer) {
                el.classList.add('correct');
                feedback.innerHTML = `โ **ุตุญูุญ!** ${q.explanation}`;
                feedback.style.color = "#2e7d32";
            } else {
                el.classList.add('wrong');
                feedback.innerHTML = `โ **ุฎุทุฃ!** ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ: <b>${q.options[q.answer]}</b> - ${q.explanation}`;
                feedback.style.color = "#c62828";
            }
        }

        function submitQuiz() {
            let score = 0;
            let total = quizData.length;
            let unanswered = 0;
            
            quizData.forEach((q, i) => {
                if (selectedAnswers[i] === null) {
                    unanswered++;
                } else if (selectedAnswers[i] === q.answer) {
                    score++;
                }
            });

            const resultDiv = document.getElementById("result");
            resultDiv.classList.remove('pulse'); 
            
            if (unanswered > 0) {
                resultDiv.innerHTML = `๐ซ ูู ุชุฌุจ ุนูู ${unanswered} ุณุคุงู. `;
            } else {
                resultDiv.innerHTML = "";
            }

            if (score === total) {
                resultDiv.innerHTML += `๐ ููุชุงุฒ ูุง ูุจุฑูุฌ ุงููุณุชูุจู! ุฌุจุช <b>${score}</b> ูู <b>${total}</b>. ูุฑุงุฌุนุชู ูุงูุช ุฑุงุฆุนุฉ! โ`;
            } else if (score >= total * 0.7) {
                resultDiv.innerHTML += `๐ ูุชูุฌุชู ุฑุงุฆุนุฉ! ุฌุจุช <b>${score}</b> ูู <b>${total}</b>ุ ุดููุฉ ูุฑุงุฌุนุฉ ุจุณูุทุฉ. ๐ช`;
            } else if (score >= total / 2) {
                resultDiv.innerHTML += `๐ ูุชูุฌุชู ุฌูุฏุฉ! ุฌุจุช <b>${score}</b> ูู <b>${total}</b>ุ ุฑุงุฌุน ุงูุฃุฌุฒุงุก ุงููู ุฃุฎุทุฃุช ูููุง.`;
            } else {
                resultDiv.innerHTML += `๐ค ูุญุชุงุฌ ูุฑุงุฌุนุฉ ุจุณูุทุฉุ ุฌุจุช <b>${score}</b> ูู <b>${total}</b>. ูุง ุชูุฃุณุ ูุฑุฑ ุงููุญุงููุฉ!`;
            }
            setTimeout(() => {
                 resultDiv.classList.add('pulse');
            }, 10);
        }

        function showCorrectAnswers() {
            quizData.forEach((q, i) => {
                const questionBlock = document.getElementById(`q-${i}`);
                const options = questionBlock.querySelectorAll(".option"); 
                const feedback = questionBlock.querySelector(`#feedback-${i}`);

                options.forEach(opt => {
                    opt.classList.remove('correct', 'wrong');
                    opt.style.backgroundColor = "#f1f8e9";
                    opt.style.boxShadow = "0 2px 5px rgba(0,0,0,0.1)"; 
                });

                options[q.answer].classList.add('correct');
                feedback.innerHTML = `โ ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ: <b>${q.options[q.answer]}</b> - ${q.explanation}`;
                feedback.style.color = "#2e7d32";
            });
            document.getElementById("result").innerHTML = "ุชู ุชุธููู ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ. ุฑุงุฌุน ุงูุดุฑุญ ูู ูู ุณุคุงู.";
        }


        // ------------------------------------------------------------------------------------------------
        // (ูุธุงุฆู ุชูููุฐ ูุงุฎุชุจุงุฑ ุงููุดุงุฑูุน ุงูุชุทุจูููุฉ - ููุนุฏูููุฉ)
        // ------------------------------------------------------------------------------------------------
        
        // ุฏุงูุฉ ุงูุชูููุฐ ุงูุฃุณุงุณูุฉ (ูุง ุชุบููุฑ)
        function executeAndCapture(codeStr){
            const logs = [];
            const origConsole = window.console.log; 
            const timeoutDuration = 3000; 

            window.console.log = function(...args){
                const line = args.map(a=>{
                    if (typeof a === 'object' && a !== null) {
                        try { return JSON.stringify(a); } catch(e){ return String(a); } 
                    }
                    return String(a);
                }).join(' ');
                logs.push(line);
                try { origConsole.apply(window.console, args); } catch(e){}
            };

            let error = null;
            let startTime = Date.now(); 
            try {
                const codeToExecute = `'use strict';\n${codeStr}`;
                const fn = new Function(codeToExecute);
                
                let isTimeout = false;
                const runLoop = setTimeout(() => {
                    isTimeout = true;
                    throw new Error("Execution timed out (Possible Infinite Loop).");
                }, timeoutDuration);

                fn();

                clearTimeout(runLoop); 

                if (Date.now() - startTime > timeoutDuration || isTimeout) {
                    error = { msg: "Execution timed out (Possible Infinite Loop)." };
                    logs.length = 0; 
                }

            } catch (err) {
                let msg = err && err.message ? err.message : String(err);
                msg = msg.replace(/\n/g,' ').replace(/\s+/g,' ').trim();
                error = { msg };
            } finally {
                window.console.log = origConsole;
            }
            return { logs, error };
        }


        function runProjectTest(projectNumber){
            const editor = document.getElementById(`project_editor_${projectNumber}`);
            const outputEl = document.getElementById(`project_output_${projectNumber}`);
            const code = editor.value || '';
            const cleanedCode = code.replace(/\/\*[\s\S]*?\*\//g, '').replace(/\/\/.*$/gm, '').trim();

            outputEl.classList.remove('success', 'error');
            outputEl.textContent = '... ุฌุงุฑู ุงูุชูููุฐ ูุงูุชุญูู ...';

            if (!cleanedCode) {
                outputEl.classList.add('error');
                outputEl.textContent = 'โ๏ธ ุงูุชุจ ุงูููุฏ ุฃููุงู.';
                return;
            }

            const studentRes = executeAndCapture(code);

            if (studentRes.error) {
                outputEl.classList.add('error');
                outputEl.textContent = `โ ุฎุทุฃ ูู ุงูููุฏ: ${studentRes.error.msg}`;
                return;
            }

            // ------------------------------------
            // ููุทู ุงูุชุญูู ูููุดุฑูุน 1 (ูุถุงุนูุฉ ุนูุงุตุฑ ุงููุตูููุฉ)
            // ------------------------------------
            if (projectNumber === 1) {
                const testCases = [
                    [[2, 4, 1], JSON.stringify([4, 8, 2])], 
                    [[10, 0, 5], JSON.stringify([20, 0, 10])], 
                    [[1], JSON.stringify([2])],
                    [[], JSON.stringify([])]
                ];
                
                let allCorrect = true;
                let testOutput = '';

                // ูุญุต ุจููุฉ ุงูุฏุงูุฉ
                if (!/function\s+doubleArray\s*\(\s*nums\s*\)/i.test(cleanedCode) || !/for\s*\(.*\)/i.test(cleanedCode) || !/return/i.test(cleanedCode)) {
                    outputEl.classList.add('error');
                    outputEl.textContent = 'โ ุฎุทุฃ ูู ุงูุจููุฉ: ุชุฃูุฏ ูู ุชุนุฑูู ุงูุฏุงูุฉ function doubleArray(nums)ุ ูุงุณุชุฎุฏุงู ุญููุฉ forุ ููููุฉ return.';
                    return;
                }

                for(const [originalArr, expectedResultStr] of testCases){
                    // ูุฌุจ ูุณุฎ ุงููุตูููุฉ ุงูุฃุตููุฉ ูุชุฌูุจ ุชุบููุฑูุง ูู ุงุณุชุฏุนุงุกุงุช ุงูุงุฎุชุจุงุฑ ุงููุชุนุฏุฏุฉ
                    const arrCopy = JSON.parse(JSON.stringify(originalArr)); 
                    const arrCopyStr = JSON.stringify(arrCopy); 
                    
                    const testCode = cleanedCode + `\nconsole.log(doubleArray(${arrCopyStr}));`; 
                    
                    let res = executeAndCapture(testCode);
                    let result = (res.logs || []).map(l => l.trim()).filter(l => l !== '').pop() || ''; 
                    
                    // ุชูุธูู ุงููุชูุฌุฉ ูู Console.log (ูุฌุจ ุฃู ุชููู ูุตูููุฉ JSON)
                    if(result.startsWith('[') && result.endsWith(']')) {
                         result = result.replace(/(\s|,)/g, '');
                    }
                    const expectedClean = expectedResultStr.replace(/(\s|,)/g, '');

                    if (result !== expectedClean) {
                        allCorrect = false;
                        testOutput += `โ ูุดู ุงูุงุฎุชุจุงุฑ: ุงููุตูููุฉ ุงูุฃุตููุฉ ${arrCopyStr}. ุงููุชููุน: ${expectedResultStr}. ุงููุงุชุฌ: ${result || '(ูุง ุดูุก)'}\n`;
                    } else {
                        testOutput += `โ ูุฌุญ ุงูุงุฎุชุจุงุฑ: ุงููุตูููุฉ ุงูุฃุตููุฉ ${arrCopyStr}. ุงููุงุชุฌ: ${result}\n`;
                    }
                }

                if (allCorrect) {
                    outputEl.classList.add('success');
                    outputEl.textContent = `โ ููุชุงุฒ! ุงูุฏุงูุฉ ุชุนูู ุจุดูู ุตุญูุญ ูุชูุถุงุนู ุฌููุน ุนูุงุตุฑ ุงููุตูููุฉ.\n\n${testOutput}`;
                } else {
                    outputEl.classList.add('error');
                    outputEl.textContent = `โ ุงูุฏุงูุฉ ูู ุชุนุฏ ุงููุตูููุฉ ุงูุตุญูุญุฉ ูุงููุนุฏูุฉ. ุฑุงุฌุน ููุทู ุญููุฉ for ูุชุนุฏูู ุงูุนูุงุตุฑ ุจุงุณุชุฎุฏุงู ุงูููุฑุณ.\n\n${testOutput}`;
                }
            } 
            
            // ------------------------------------
            // ููุทู ุงูุชุญูู ูููุดุฑูุน 2 (ุฏุงูุฉ ุงูุฌุฐุฑ ุงูุชุฑุจูุนู ูุนุฏุฏูู)
            // ------------------------------------
            else if (projectNumber === 2) {
                const testCases = [
                    [4, 9, 5], // sqrt(4) + sqrt(9) = 2 + 3 = 5
                    [1, 16, 5], // sqrt(1) + sqrt(16) = 1 + 4 = 5
                    [25, 100, 15], // 5 + 10 = 15
                    [0, 81, 9] // 0 + 9 = 9
                ];

                let allCorrect = true;
                let testOutput = '';

                // ูุญุต ุจููุฉ ุงูุฏุงูุฉ ูุงุณุชุฎุฏุงู Math.sqrt
                if (!/function\s+calculateRoots\s*\(\s*a\s*,\s*b\s*\)/i.test(cleanedCode) || !/Math\.sqrt/i.test(cleanedCode) || !/return/i.test(cleanedCode)) {
                    outputEl.classList.add('error');
                    outputEl.textContent = 'โ ุฎุทุฃ ูู ุงูุจููุฉ: ุชุฃูุฏ ูู ุชุนุฑูู ุงูุฏุงูุฉ function calculateRoots(a, b)ุ ูุงุณุชุฎุฏุงู Math.sqrtุ ููููุฉ return.';
                    return;
                }

                for (const [a, b, expected] of testCases) {
                    const testCode = cleanedCode + `\nconsole.log(calculateRoots(${a}, ${b}));`; 
                    
                    let res = executeAndCapture(testCode);
                    let resultStr = (res.logs || []).map(l => l.trim()).filter(l => l !== '').pop() || ''; 
                    
                    let result = parseFloat(resultStr);
                    const expectedFloat = parseFloat(expected);

                    if (Math.abs(result - expectedFloat) > 0.001) { // ููุงุฑูุฉ ุงูุฃุฑูุงู ุงูุนุดุฑูุฉ
                        allCorrect = false;
                        testOutput += `โ ูุดู ุงูุงุฎุชุจุงุฑ (ุงูุฃุฑูุงู: ${a}, ${b}). ุงููุชููุน: "${expected}". ุงููุงุชุฌ: "${resultStr || '(ูุง ุดูุก)'}"\n`;
                    } else {
                        testOutput += `โ ูุฌุญ ุงูุงุฎุชุจุงุฑ (ุงูุฃุฑูุงู: ${a}, ${b}). ุงููุงุชุฌ: "${resultStr}"\n`;
                    }
                }

                if (allCorrect) {
                    outputEl.classList.add('success');
                    outputEl.textContent = `โ ููุชุงุฒ! ุชู ุงุณุชุฎุฏุงู Math.sqrt ูุญุณุงุจ ุงููุฌููุน ุจุดูู ุตุญูุญ.\n\n${testOutput}`;
                } else {
                    outputEl.classList.add('error');
                    outputEl.textContent = `โ ุงูุฏุงูุฉ ูู ุชุนุฏ ุงููููุฉ ุงูุตุญูุญุฉ ููุฌููุน ุงูุฌุฐูุฑ ุงูุชุฑุจูุนูุฉ. ุฑุงุฌุน ุงุณุชุฎุฏุงู Math.sqrt ู return.\n\n${testOutput}`;
                }
            }
        }
    </script>

</body>
</html>